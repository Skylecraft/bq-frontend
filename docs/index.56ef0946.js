import{J as e,j as t,h as a,F as n,E as o,r as s,o as l,c as i,a as d,w as m,b as u,d as c,t as r,e as p,f as _,V as g,g as h,s as v,i as q,k as y,l as b,m as N,n as $}from"./vendor.fe70dc23.js";const V=["conversations","menus"];function w(a,n){e.loadAsync(a).then((function(e){e.forEach((function(e,a){a.dir||a.async("text").then((function(e){let o=function(e,a){const n=e.split("/");let o={section:n[0],fileType:n[1].replace(".yml",""),data:{}};if(V.indexOf(o.fileType)>=0&&(o.subsection=n[2].replace(".yml","")),a)try{const e=t.load(a);o.data=e}catch(s){console.error(`Section "${e}" error: ${s}`)}return o}(a.name,e);n[o.section]||(n[o.section]={}),V.indexOf(o.fileType)>=0?(n[o.section][o.fileType]||(n[o.section][o.fileType]={}),n[o.section][o.fileType][o.subsection]=o.data):n[o.section][o.fileType]=o.data}))}))}),(function(e){console.error(`Error reading ${f.name}: ${e.message}`)}))}const x=["conversations","menus"];const D={components:{Multiselect:o},props:["modelValue","placeholder","type","sectionInfo","dialogSectionName","dialogType","max"],data:()=>({selectedTags:null,options:[]}),mounted(){this.modelValue&&(this.selectedTags=this.modelValue.split(",").map((e=>({value:e.trim(),label:e.trim()}))))},created(){void 0===this.sectionInfo&&console.error(`sectionInfo in tagComplete is undefined; type: ${this.type}`)},methods:{openTags(){this.options=this.updateOptions()},tagsChange(e){this.$emit("update:modelValue",e.map((e=>e.value)).join(","))},async getChoicesUpdate(e){return this.options=this.updateOptions(),this.options},updateOptions(){let e=[];if("conditions"===this.type){if(!this.sectionInfo.conditions)return void(this.sectionInfo.conditions={});for(const[t,a]of Object.entries(this.sectionInfo.conditions))e.push({value:t,label:t})}else if("events"===this.type){if(!this.sectionInfo.events)return void(this.sectionInfo.events={});for(const[t,a]of Object.entries(this.sectionInfo.events))e.push({value:t,label:t})}else if("pointers"===this.type){if(!this.sectionInfo.conversations)return void(this.sectionInfo.conversations={NPC_options:{},player_options:{}});if(this.sectionInfo.conversations){const t=this.sectionInfo.conversations[this.dialogSectionName];if("NPC_options"===this.dialogType)for(const[a,n]of Object.entries(t.player_options))e.push({value:a,label:a});else if("player_options"===this.dialogType)for(const[a,n]of Object.entries(t.NPC_options))e.push({value:a,label:a})}}return e}}};D.render=function(e,t,a,n,o,d){const m=s("Multiselect");return l(),i(m,{class:"autocomplete",modelValue:o.selectedTags,"onUpdate:modelValue":t[1]||(t[1]=e=>o.selectedTags=e),mode:"tags",searchable:!0,createTag:!0,minChars:1,resolveOnLoad:!0,appendNewTag:!0,object:!0,options:async function(e){return await d.getChoicesUpdate(e)},placeholder:a.placeholder,max:a.max||-1,canClear:!1,openDirection:"top",onChange:d.tagsChange,onOpen:d.openTags,ref:"multiselect",noOptionsText:e.$t("no-options"),noResultsText:e.$t("no-results")},null,8,["modelValue","options","placeholder","max","onChange","onOpen","noOptionsText","noResultsText"])};const j={props:["modelValue","spanLeft","spanRight","maxRows"],data:()=>({}),computed:{localValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},created(){if("string"==typeof this.localValue){const e={};e[this.$root.settings.language]=this.localValue,this.localValue=e}},methods:{delLang(e){this.$confirm(this.$t("delete-language").replace("{language}",e),this.$t("delete"),{confirmButtonText:this.$t("delete"),cancelButtonText:this.$t("cancel")}).then((()=>{delete this.localValue[e]}))}}};j.render=function(e,t,a,n,o,_){const g=s("el-tag"),f=s("el-col"),h=s("el-input"),v=s("el-row");return l(!0),i(p,null,d(_.localValue,((e,t)=>(l(),i(v,{class:"dialog-setting-section section-lang"},{default:m((()=>[u(f,{span:a.spanLeft||1},{default:m((()=>[u(g,{type:"info",class:"setting-header lang-delete",onClick:e=>_.delLang(t)},{default:m((()=>[c(r(t),1)])),_:2},1032,["onClick"])])),_:2},1032,["span"]),u(f,{span:a.spanRight||23},{default:m((()=>[u(h,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:a.maxRows||20},modelValue:_.localValue[t],"onUpdate:modelValue":e=>_.localValue[t]=e},null,8,["autosize","modelValue","onUpdate:modelValue"])])),_:2},1032,["span"])])),_:2},1024)))),256)};const k={emits:["newLang"],data:()=>({newLang:""}),methods:{addLang(){2===this.newLang.length&&(this.$emit("newLang",this.newLang.toLowerCase()),this.newLang="",this.$refs.languagePopover.hide())}}},C=u("i",{class:"el-icon-plus"},null,-1),S=u("i",{class:"el-icon-s-flag el-input__icon"},null,-1);k.render=function(e,t,a,n,o,d){const p=s("el-tag"),_=s("el-input"),g=s("el-button"),f=s("el-popover");return l(),i(f,{placement:"bottom",title:e.$t("add-language"),trigger:"click","popper-class":"language-popover",ref:"languagePopover","show-after":0,"hide-after":0},{reference:m((()=>[u(p,{type:"info",class:"setting-header"},{default:m((()=>[C])),_:1})])),default:m((()=>[u(_,{modelValue:o.newLang,"onUpdate:modelValue":t[1]||(t[1]=e=>o.newLang=e),maxlength:2,minlength:2,size:"mini",class:"lang-input"},{prefix:m((()=>[S])),_:1},8,["modelValue"]),u(g,{type:"primary",size:"mini",onClick:d.addLang},{default:m((()=>[c(r(e.$t("add")),1)])),_:1},8,["onClick"])])),_:1},8,["title"])};const T={components:{tagComplete:D,langField:j,langHeader:k},props:["modelValue","dialogType","subSectionName","dialogName","projectData","dialogSectionName","dialogSectionInfo"],data:()=>({}),created(){void 0!==this.dialogInfo?(this.dialogInfo.event&&(this.dialogInfo.events=this.dialogInfo.event,delete this.dialogInfo.event),this.dialogInfo.condition&&(this.dialogInfo.conditions=this.dialogInfo.condition,delete this.dialogInfo.condition),this.dialogInfo.pointer&&(this.dialogInfo.pointers=this.dialogInfo.pointer,delete this.dialogInfo.pointer)):console.error(`dialogInfo is undefined in dialogOption; dialogType: ${this.dialogType} dialogName: ${this.dialogName}`)},computed:{dialogInfo:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{renameDialog(){this.$prompt(this.$t("enter-new-name"),this.$t("rename"),{confirmButtonText:"Rename",cancelButtonText:"Cancel",inputPattern:/^[a-zA-Z0-9_]+$/,inputErrorMessage:this.$t("exists-regex"),inputValidator:e=>!this.dialogSectionInfo[this.dialogType][e],inputValue:this.dialogName}).then((({value:e})=>{this.$emit("rename",this.dialogName,this.dialogType,e)}))},deleteDialog(){this.$confirm(this.$t("delete-section-key").replace("{name}",this.dialogName).replace("{from}",this.dialogSectionName),this.$t("delete"),{confirmButtonText:this.$t("delete"),cancelButtonText:this.$t("cancel")}).then((()=>{this.$emit("delete",this.dialogType,this.dialogName)}))},newLang(e){this.dialogInfo.text||(this.dialogInfo.text={}),this.dialogInfo.text[e]=""}}},I={class:"dialog-header"},P=u("i",{class:"el-icon-edit"},null,-1),O=u("i",{class:"el-icon-delete"},null,-1);T.render=function(e,t,a,n,o,d){const c=s("el-tag"),p=s("langHeader"),_=s("langField"),g=s("el-col"),f=s("el-row"),h=s("tagComplete"),v=s("el-card");return l(),i(v,{class:"dialog-card"},{header:m((()=>[u("div",I,r(a.dialogName),1),u(c,{type:"info",class:"setting-header",onClick:t[1]||(t[1]=e=>d.renameDialog())},{default:m((()=>[P])),_:1}),u(c,{type:"info",class:"setting-header",onClick:t[2]||(t[2]=e=>d.deleteDialog())},{default:m((()=>[O])),_:1}),u(p,{onNewLang:d.newLang},null,8,["onNewLang"])])),default:m((()=>[u(f,{class:"dialog-setting-section section-lang"},{default:m((()=>[u(g,{span:24},{default:m((()=>[u(_,{ref:"dialogLangs",modelValue:d.dialogInfo.text,"onUpdate:modelValue":t[3]||(t[3]=e=>d.dialogInfo.text=e),"max-rows":10},null,8,["modelValue"])])),_:1})])),_:1}),u(f,{class:"dialog-setting-section section-conditions"},{default:m((()=>[u(g,{span:24},{default:m((()=>[u(h,{type:"conditions",modelValue:d.dialogInfo.conditions,"onUpdate:modelValue":t[4]||(t[4]=e=>d.dialogInfo.conditions=e),"section-info":a.projectData[a.subSectionName],"dialog-section-name":a.dialogSectionName,"dialog-type":a.dialogType,placeholder:e.$t("conditions")},null,8,["modelValue","section-info","dialog-section-name","dialog-type","placeholder"])])),_:1})])),_:1}),u(f,{class:"dialog-setting-section section-event"},{default:m((()=>[u(g,{span:24},{default:m((()=>[u(h,{type:"events",modelValue:d.dialogInfo.events,"onUpdate:modelValue":t[5]||(t[5]=e=>d.dialogInfo.events=e),"section-info":a.projectData[a.subSectionName],"dialog-section-name":a.dialogSectionName,"dialog-type":a.dialogType,placeholder:e.$t("events")},null,8,["modelValue","section-info","dialog-section-name","dialog-type","placeholder"])])),_:1})])),_:1}),u(f,{class:"dialog-setting-section section-pointers"},{default:m((()=>[u(g,{span:24},{default:m((()=>[u(h,{type:"pointers",modelValue:d.dialogInfo.pointers,"onUpdate:modelValue":t[6]||(t[6]=e=>d.dialogInfo.pointers=e),"section-info":a.projectData[a.subSectionName],"dialog-section-name":a.dialogSectionName,"dialog-type":a.dialogType,placeholder:e.$t("pointers")},null,8,["modelValue","section-info","dialog-section-name","dialog-type","placeholder"])])),_:1})])),_:1})])),_:1})};const U={props:["initData"],data:()=>({}),computed:{questData:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{}},R={class:"diagram-editor"};U.render=function(e,t,a,n,o,s){return l(),i("div",R)},_.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds/src-noconflict/");const z={props:["modelValue","class"],components:{VAceEditor:g},data(){return{text:"",customClass:this.class||"yaml-editor"}},created(){try{this.text=t.dump(this.modelValue,this.$root.jsonOptions)}catch(e){console.error("Yaml error:",e.message),this.$message({type:"error",message:`'Yaml error: ${e.message}`})}},methods:{textUpdate(e,a){try{this.$emit("update:modelValue",t.load(this.text,this.$root.jsonOptions))}catch(n){console.error("Yaml error:",n.message),this.$message({type:"error",message:`'Yaml error: ${n.message}`})}},useDarkTheme(){this.$root.settings.dark=!this.$root.settings.dark,this.$root.settings=this.$root.settings}}},L={class:"menu-buttons"},M=u("i",{class:"el-icon-view el-icon--right"},null,-1);z.render=function(e,t,a,n,o,d){const _=s("el-button"),g=s("el-affix"),f=s("v-ace-editor");return l(),i(p,null,[u(g,{offset:0},{default:m((()=>[u("div",L,[u(_,{size:"mini",onClick:d.useDarkTheme,class:"menu-button"},{default:m((()=>[M,c(" "+r(e.$t("use-dark-theme")),1)])),_:1},8,["onClick"])])])),_:1}),u(f,{value:o.text,"onUpdate:value":t[1]||(t[1]=e=>o.text=e),lang:"yaml",theme:e.$root.settings.dark?"ambiance":"chrome",class:o.customClass,printMargin:!1,wrap:!0,onChange:d.textUpdate},null,8,["value","theme","class","onChange"])],64)},_.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds/src-noconflict/");const E={components:{dialogOption:T,diagramEdit:U,langField:j,langHeader:k,tagComplete:D,VAceEditor:g,yamlEditor:z},props:["modelValue","projectData","dialogSectionName","subSectionName"],data:()=>({editMode:null,yamlText:null,diagramData:null}),computed:{dialogSectionInfo:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{changeToDiagram(){this.editMode="diagram"},changeToYaml(){this.yamlText=t.dump(this.dialogSectionInfo,{lineWidth:-1}),this.editMode="yaml"},changeFromYamlToEditor(){this.editMode=null},textUpdate(e,a){try{this.dialogSectionInfo=t.load(this.yamlText)}catch(n){console.error("Yaml error:",n.message),this.$message({type:"error",message:`'Yaml error: ${n.message}`})}},useDarkTheme(){this.$root.settings.dark=!this.$root.settings.dark,this.$root.settings=this.$root.settings},changeFromDiagramToEditor(){this.editMode=null},addDialogOption(e){let t="message_";"player_options"===e&&(t="option_"),this.$prompt(this.$t("enter-dialog-name"),this.$t("dialog-window-title"),{confirmButtonText:this.$t("create"),cancelButtonText:this.$t("cancel"),inputPattern:/^[a-z0-9_]+$/,inputErrorMessage:this.$t("exists-regex"),inputValidator:t=>!this.dialogSectionInfo[e][t],closeOnClickModal:!1,inputValue:t}).then((({value:t})=>{const a={text:{}};a.text[this.$root.settings.language]="",this.dialogSectionInfo[e][t]=a,this.$message({type:"success",dangerouslyUseHTMLString:!0,message:this.$t("dialog-created").replace("{value}",t)})}))},renameDialog(e,t,a){this.dialogSectionInfo[t][a]=this.dialogSectionInfo[t][e],delete this.dialogSectionInfo[t][e],this.$message({type:"success",dangerouslyUseHTMLString:!0,message:this.$t("dialog-renamed").replace("{old}",e).replace("{new}",a)})},deleteDialog(e,t){delete this.dialogSectionInfo[e][t],this.$message({type:"success",dangerouslyUseHTMLString:!0,message:this.$t("dialog-deleted").replace("{dialogKey}",t)})},newQuesterNameLang(e){this.dialogSectionInfo.quester||(this.dialogSectionInfo.quester={}),this.dialogSectionInfo.quester[e]=""}}},F={key:0,class:"view-editor-section dialog-section"},A={class:"menu-buttons"},H=u("i",{class:"el-icon-document el-icon--right"},null,-1),Q=u("i",{class:"el-icon-data-line el-icon--right"},null,-1),Y={class:"conversation-settings-sction"},K={class:"conversation-setting-title"},B=u("div",{class:"conversation-settings-separator"},null,-1),J={class:"conversation-settings-sction"},Z={class:"conversation-setting-title"},G={class:"conversation-settings-sction"},W={class:"conversation-setting-title"},X=u("br",null,null,-1),ee={class:"dialog-options-section"},te={class:"menu-buttons"},ae={class:"dialog-title"},ne={key:1,class:"yaml-editor-section"},oe={class:"menu-buttons"},se=u("i",{class:"el-icon-chat-line-square el-icon--right"},null,-1),le=u("i",{class:"el-icon-view el-icon--right"},null,-1),ie={key:2,class:"yaml-editor-section"},de={class:"menu-buttons"},me=u("i",{class:"el-icon-chat-line-square el-icon--right"},null,-1);E.render=function(e,t,a,n,o,_){const g=s("el-button"),f=s("el-affix"),v=s("langHeader"),q=s("langField"),y=s("tagComplete"),b=s("el-checkbox"),N=s("el-card"),$=s("dialogOption"),V=s("el-space"),w=s("v-ace-editor"),x=s("diagramEdit");return o.editMode?"yaml"===o.editMode?(l(),i("div",ne,[u(f,{offset:0},{default:m((()=>[u("div",oe,[u(g,{size:"mini",onClick:_.changeFromYamlToEditor,class:"menu-button"},{default:m((()=>[se,c(" "+r(e.$t("save-and-return")),1)])),_:1},8,["onClick"]),u(g,{size:"mini",onClick:_.useDarkTheme,class:"menu-button"},{default:m((()=>[le,c(" "+r(e.$t("use-dark-theme")),1)])),_:1},8,["onClick"])])])),_:1}),u(w,{value:o.yamlText,"onUpdate:value":t[4]||(t[4]=e=>o.yamlText=e),lang:"yaml",theme:e.$root.settings.dark?"ambiance":"chrome",class:"yaml-conversation yaml-editor",printMargin:!1,wrap:!0,onChange:_.textUpdate},null,8,["value","theme","onChange"])])):"diagram"===o.editMode?(l(),i("div",ie,[u(f,{offset:0},{default:m((()=>[u("div",de,[u(g,{size:"mini",onClick:_.changeFromDiagramToEditor,class:"menu-button"},{default:m((()=>[me,c(" "+r(e.$t("save-and-return")),1)])),_:1},8,["onClick"])])])),_:1}),u(x,{"init-data":a.modelValue},null,8,["init-data"])])):h("",!0):(l(),i("div",F,[u(f,{offset:0},{default:m((()=>[u("div",A,[u(g,{size:"mini",onClick:_.changeToYaml,class:"menu-button"},{default:m((()=>[H,c(" "+r(e.$t("yaml-editor")),1)])),_:1},8,["onClick"]),u(g,{size:"mini",onClick:_.changeToDiagram,class:"menu-button"},{default:m((()=>[Q,c(" "+r(e.$t("diagram-editor")),1)])),_:1},8,["onClick"])])])),_:1}),u(N,{class:"conversation-settings"},{default:m((()=>[u("div",Y,[u("div",K,r(e.$t("quester-name"))+":",1),u(v,{onNewLang:_.newQuesterNameLang},null,8,["onNewLang"]),u(q,{modelValue:_.dialogSectionInfo.quester,"onUpdate:modelValue":t[1]||(t[1]=e=>_.dialogSectionInfo.quester=e),"span-left":8,"span-right":20},null,8,["modelValue"])]),B,u("div",J,[u("div",Z,r(e.$t("first-option"))+":",1),u(y,{modelValue:_.dialogSectionInfo.first,"onUpdate:modelValue":t[2]||(t[2]=e=>_.dialogSectionInfo.first=e),type:"pointers",dialogType:"player_options","section-info":a.projectData[a.subSectionName],"dialog-section-name":a.dialogSectionName,placeholder:e.$t("select-option"),max:1},null,8,["modelValue","section-info","dialog-section-name","placeholder"])]),u("div",G,[u("div",W,r(e.$t("stop-option"))+":",1),u(b,{modelValue:_.dialogSectionInfo.stop,"onUpdate:modelValue":t[3]||(t[3]=e=>_.dialogSectionInfo.stop=e)},null,8,["modelValue"]),X])])),_:1}),(l(),i(p,null,d(["NPC_options","player_options"],(t=>u("div",ee,[u("div",te,[u("div",ae,r(e.$t(t)),1),u(g,{size:"mini",onClick:e=>_.addDialogOption(t),class:"menu-button",type:"success",plain:"",icon:"el-icon-chat-line-round"},{default:m((()=>[c(r(e.$t("add-dialog")),1)])),_:2},1032,["onClick"])]),u(V,{wrap:"",class:"dialogs-section"},{default:m((()=>[(l(!0),i(p,null,d(_.dialogSectionInfo[t],((e,n)=>(l(),i($,{key:t,modelValue:_.dialogSectionInfo[t][n],"onUpdate:modelValue":e=>_.dialogSectionInfo[t][n]=e,"dialog-name":n,"dialog-type":t,"project-data":a.projectData,"dialog-section-name":a.dialogSectionName,"dialog-section-info":_.dialogSectionInfo,"sub-section-name":a.subSectionName,onDelete:_.deleteDialog,onRename:_.renameDialog},null,8,["modelValue","onUpdate:modelValue","dialog-name","dialog-type","project-data","dialog-section-name","dialog-section-info","sub-section-name","onDelete","onRename"])))),128))])),_:2},1024)]))),64))]))};const ue={props:["modelValue","valueKey","activeKey"],data:()=>({}),computed:{localValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},localActiveKey:{get(){return this.activeKey},set(e){this.$emit("update:activeKey",e)}}},methods:{deleteSetting(e){this.$confirm(this.$t("delete-key").replace("{key}",e),this.$t("delete"),{confirmButtonText:this.$t("delete"),cancelButtonText:this.$t("cancel")}).then((()=>{this.$emit("delete",e)}))}}},ce={class:"setting-section el-row"},re=u("i",{class:"el-icon-delete"},null,-1),pe={key:1,class:"field-editor"};ue.render=function(e,t,a,n,o,d){const p=s("el-tag"),_=s("el-input");return l(),i("div",ce,[u(p,{type:"info",class:"setting-header delete-button",onClick:t[1]||(t[1]=e=>d.deleteSetting(a.valueKey))},{default:m((()=>[re])),_:1}),u(p,{type:"info",class:"setting-header el-col el-col-4"},{default:m((()=>[c(r(a.valueKey),1)])),_:1}),d.localActiveKey!==a.valueKey?(l(),i("div",{key:0,class:"setting-value el-col-18",onClick:t[2]||(t[2]=e=>d.localActiveKey=a.valueKey)},r(d.localValue),1)):(l(),i("div",pe,[u(_,{modelValue:d.localValue,"onUpdate:modelValue":t[3]||(t[3]=e=>d.localValue=e)},null,8,["modelValue"])]))])};const _e={components:{simpleField:ue},props:["modelValue"],data:()=>({yamlEdit:!1,yamlText:null,activeKey:""}),computed:{localValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{changeToYaml(){this.yamlText=t.dump(this.localValue,{lineWidth:-1}),this.yamlEdit=!0},changeToEditor(){this.localValue=t.load(this.yamlText),this.yamlText=null,this.yamlEdit=!1},deleteSetting(e){delete this.localValue[e]},newSetting(){this.$prompt(this.$t("new-setting-key"),this.$t("create"),{confirmButtonText:this.$t("create"),cancelButtonText:this.$t("cancel"),inputPattern:/^[a-z0-9_]+$/,inputErrorMessage:this.$t("exists-regex"),inputValidator:e=>!this.localValue[e]}).then((({value:e})=>{this.localValue[e]=""}))}}},ge={key:0,class:"view-editor-section"},fe={class:"menu-buttons"},he={key:1,class:"yaml-editor-section"},ve={class:"menu-buttons"};_e.render=function(e,t,a,n,o,_){const g=s("el-button"),f=s("el-affix"),h=s("simpleField"),v=s("el-input");return o.yamlEdit?(l(),i("div",he,[u(f,{offset:0},{default:m((()=>[u("div",ve,[u(g,{size:"mini",onClick:_.changeToEditor,class:"menu-button"},{default:m((()=>[c(r(this.$t("save-and-return")),1)])),_:1},8,["onClick"])])])),_:1}),u(v,{class:"yaml-editor",type:"textarea",autosize:{minRows:20,maxRows:50},modelValue:o.yamlText,"onUpdate:modelValue":t[2]||(t[2]=e=>o.yamlText=e)},null,8,["modelValue"])])):(l(),i("div",ge,[u(f,{offset:0},{default:m((()=>[u("div",fe,[u(g,{size:"mini",onClick:_.changeToYaml,class:"menu-button"},{default:m((()=>[c(r(this.$t("yaml-editor")),1)])),_:1},8,["onClick"]),u(g,{size:"mini",onClick:_.newSetting,class:"menu-button",type:"success",icon:"el-icon-plus",plain:""},{default:m((()=>[c(r(e.$t("new-setting")),1)])),_:1},8,["onClick"])])])),_:1}),(l(!0),i(p,null,d(_.localValue,((e,a)=>(l(),i(h,{modelValue:_.localValue[a],"onUpdate:modelValue":e=>_.localValue[a]=e,"value-key":a,activeKey:o.activeKey,"onUpdate:activeKey":t[1]||(t[1]=e=>o.activeKey=e),onDelete:_.deleteSetting},null,8,["modelValue","onUpdate:modelValue","value-key","activeKey","onDelete"])))),256))]))};const qe={props:["modelValue","subSectionName"],data(){return{sectionInfo:null,templateData:{addToFirst:!0,addToHologram:!0,langSlug:this.$root.settings.language,questName:"example",questReadableName:"Example quest",expReward:"200",moneyReward:"1000",requiedLevel:"10",questPlayerOption1:"$default.quest_prefix$Hi!",questNPCOption1:"Hello, do the quest for the glory of example!",questPlayerOption2:"$default.quest_yes_prefix$Okay, I will.",questNPCOption2:"Go and do it!",questPlayerOption3:"$default.quest_done_prefix$I did what you told",questNPCOption3:"Thank you!",journalStart:"Started.",journalDone:"Done!",mobName:"wz1",mobAmount:"1",compassName:"Target",compassLocation:"100;66;100;world_rpg"},preview:!1,previewText:null,objective:"mmobkill",error:null}},computed:{projectData:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},created(){this.sectionInfo=this.projectData[this.subSectionName]},methods:{togglePreview(){this.previewText=this.getFormattedYaml(),this.preview=!0},toggleEdit(){this.previewText=null,this.preview=!1},getFormattedYaml(){let e="conversations:\n  NPC_options:\n    message_{questName}_start:\n      text:\n        {langSlug}: '{questNPCOption1}\\n\\n&6Необходимый уровень {requiedLevel}\\n\\n&2Награда:\\n✦ ${questName}_exp$ опыта\\n■ ${questName}_money$ монет&0---'\n      pointers: option_{questName}_yes, option_no\n    message_{questName}_yes:\n      text: \n        {langSlug}: '{questNPCOption2}'\n      event: event_{questName}_start\n      pointers: option_ok\n    message_{questName}_done:\n      text: \n        {langSlug}: '{questNPCOption3}'\n      event: event_{questName}_paid\n      pointers: option_ok\n\n  player_options:\n    option_{questName}_start:\n      text: \n        {langSlug}: '{questPlayerOption1}'\n      conditions: '!cond_{questName}_started'\n      pointers: message_{questName}_start\n    option_{questName}_yes:\n      text: \n        {langSlug}: '{questPlayerOption2}'\n      conditions: 'default.cond_level_{requiedLevel}'\n      pointers: message_{questName}_yes\n    option_{questName}_done:\n      text:\n        {langSlug}: '{questPlayerOption3}'\n      conditions: 'cond_{questName}_done,!cond_{questName}_paid'\n      pointers: message_{questName}_done\n\nevents:\n  event_{questName}_start: folder event_{questName}_s1,event_{questName}_s2,event_{questName}_s3,event_{questName}_s4,event_{questName}_s5\n  event_{questName}_s1: journal add j_{questName}_started\n  event_{questName}_s2: tag add tag_{questName}_started\n  event_{questName}_s3: notify &2Вы начали квест &a${questName}_name$ category:start_quest\n  event_{questName}_s4: compass add compass_{questName}\n  event_{questName}_s5: objective start obj_{questName}\n\n  event_{questName}_done: folder event_{questName}_d_1,event_{questName}_d_2,event_{questName}_d_3\n  event_{questName}_d_1: journal delete j_{questName}_started\n  event_{questName}_d_2: journal add j_{questName}_done\n  event_{questName}_d_3: tag add tag_{questName}_done\n\n  event_{questName}_paid: folder event_{questName}_p1,event_{questName}_p2,event_{questName}_p3,event_{questName}_p4,event_{questName}_p5,event_{questName}_p6,event_{questName}_p7\n  event_{questName}_p1: journal delete j_{questName}_done\n  event_{questName}_p2: tag add tag_{questName}_paid\n  event_{questName}_p3: run ^command mmocore admin exp give %player% main ${questName}_exp$ ^notify &eВы получили &6${questName}_exp$ &eопыта category:reward\n  event_{questName}_p4: money ${questName}_money$ notify\n  event_{questName}_p5: notify &2Вы закончили квест &a${questName}_name$ category:end_quest\n  event_{questName}_p6: take {questName}_item notify\n  event_{questName}_p7: compass del compass_{questName}\n\nconditions:\n  cond_{questName}_icon1: and !cond_{questName}_started\n  cond_{questName}_icon2: and cond_{questName}_started,!cond_{questName}_done\n  cond_{questName}_icon3: and cond_{questName}_done,!cond_{questName}_paid\n\n  cond_{questName}_started: tag tag_{questName}_started\n  cond_{questName}_done: tag tag_{questName}_done\n  cond_{questName}_paid: tag tag_{questName}_paid\n\njournal:\n  j_{questName}_started:\n    {langSlug}: '{journalStart}'\n  j_{questName}_done:\n    {langSlug}: '{journalDone}'\n\nmain:\n  variables:\n    {questName}_name: '{questReadableName}'\n    {questName}_exp: {expReward}\n    {questName}_money: {moneyReward}\n  compass:\n    compass_{questName}:\n      name:\n        ru: {compassName}\n      location: {compassLocation}\n      item: compass_button\n\nobjectives:\n  obj_{questName}: {objective}\n";for(const[t,a]of Object.entries(this.templateData))e=e.replaceAll(`{${t}}`,a||"");return"mmobkill"==this.objective&&(e=e.replaceAll("{objective}",`mmobkill ${this.templateData.mobName} amount:${this.templateData.mobAmount} notify events:event_${this.templateData.questName}_done`)),e},apply(){try{if(this.error=null,!this.templateData.quester)return void(this.error=this.$t("no-quester"));const e=t.load(this.getFormattedYaml());if(this.sectionInfo.conversations[this.templateData.quester].NPC_options=Object.assign({},this.sectionInfo.conversations[this.templateData.quester].NPC_options,e.conversations.NPC_options),this.sectionInfo.conversations[this.templateData.quester].player_options=Object.assign({},this.sectionInfo.conversations[this.templateData.quester].player_options,e.conversations.player_options),this.sectionInfo.events=Object.assign({},this.sectionInfo.events,e.events),this.sectionInfo.conditions=Object.assign({},this.sectionInfo.conditions,e.conditions),this.sectionInfo.journal=Object.assign({},this.sectionInfo.journal,e.journal),this.sectionInfo.objectives=Object.assign({},this.sectionInfo.objectives,e.objectives),this.sectionInfo.main||(this.sectionInfo.main={variables:{},npcs:{},compass:{}}),this.sectionInfo.main.variables=Object.assign({},this.sectionInfo.main.variables,e.main.variables),this.sectionInfo.main.compass=Object.assign({},this.sectionInfo.main.compass,e.main.compass),this.templateData.addToFirst){const e=this.sectionInfo.conversations[this.templateData.quester].first;if(e){let t=this.sectionInfo.conversations[this.templateData.quester].NPC_options[e].pointers;this.sectionInfo.conversations[this.templateData.quester].NPC_options[e].pointers=`option_${this.templateData.questName}_done,option_${this.templateData.questName}_start,${t}`}}if(this.templateData.addToHologram){let e=this.sectionInfo.conditions[`cond_quest_avalible_${quester}`];this.sectionInfo.conditions[`cond_quest_avalible_${quester}`]=`${e},cond_${this.templateData.questName}_icon1`;let t=this.sectionInfo.conditions[`cond_quest_progress_${quester}`];this.sectionInfo.conditions[`cond_quest_progress_${quester}`]=`${t},cond_${this.templateData.questName}_icon2`;let a=this.sectionInfo.conditions[`cond_quest_done_${quester}`];this.sectionInfo.conditions[`cond_quest_done_${quester}`]=`${a},cond_${this.templateData.questName}_icon3`}this.$message({type:"success",dangerouslyUseHTMLString:!0,message:this.$t("template-applyed")}),this.$emit("close")}catch(e){let t=e;"YAMLException"===e.name&&(t=e.message),this.error=t}}}},ye={key:0},be={class:"menu-buttons"},Ne=c(" mmobkill "),$e=c(" amount:"),Ve={class:"right-section"},we={key:1},xe={class:"menu-buttons"};qe.render=function(e,t,a,n,o,_){const g=s("el-button"),f=s("el-alert"),v=s("el-col"),q=s("el-option"),y=s("el-select"),b=s("el-row"),N=s("el-input"),$=s("el-divider"),V=s("el-tab-pane"),w=s("el-tabs"),x=s("el-checkbox");return o.preview?(l(),i("div",we,[u("div",xe,[u(g,{size:"mini",class:"menu-button",onClick:_.toggleEdit},{default:m((()=>[c(r(e.$t("return-to-edit")),1)])),_:1},8,["onClick"])]),u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:50},modelValue:o.previewText,"onUpdate:modelValue":t[22]||(t[22]=e=>o.previewText=e),readonly:!0},null,8,["modelValue"])])):(l(),i("div",ye,[u("div",be,[u(g,{size:"mini",class:"menu-button",onClick:_.togglePreview},{default:m((()=>[c(r(e.$t("preview")),1)])),_:1},8,["onClick"])]),o.error?(l(),i(f,{key:0,title:o.error,class:"template-error",type:"error"},null,8,["title"])):h("",!0),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-select"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(y,{modelValue:o.templateData.quester,"onUpdate:modelValue":t[1]||(t[1]=e=>o.templateData.quester=e),placeholder:" "},{default:m((()=>[(l(!0),i(p,null,d(o.sectionInfo.conversations,((e,t)=>(l(),i(q,{key:t,label:t,value:t},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-name"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(N,{modelValue:o.templateData.questName,"onUpdate:modelValue":t[2]||(t[2]=e=>o.templateData.questName=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-readable-name"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(N,{modelValue:o.templateData.questReadableName,"onUpdate:modelValue":t[3]||(t[3]=e=>o.templateData.questReadableName=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-exp-reward"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(N,{modelValue:o.templateData.expReward,"onUpdate:modelValue":t[4]||(t[4]=e=>o.templateData.expReward=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-money-reward"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(N,{modelValue:o.templateData.moneyReward,"onUpdate:modelValue":t[5]||(t[5]=e=>o.templateData.moneyReward=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-level"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(N,{modelValue:o.templateData.requiedLevel,"onUpdate:modelValue":t[6]||(t[6]=e=>o.templateData.requiedLevel=e)},null,8,["modelValue"])])),_:1})])),_:1}),u($),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-compass-name"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(N,{modelValue:o.templateData.compassName,"onUpdate:modelValue":t[7]||(t[7]=e=>o.templateData.compassName=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-compass-location"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(N,{modelValue:o.templateData.compassLocation,"onUpdate:modelValue":t[8]||(t[8]=e=>o.templateData.compassLocation=e)},null,8,["modelValue"])])),_:1})])),_:1}),u($),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-player-option-1"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questPlayerOption1,"onUpdate:modelValue":t[9]||(t[9]=e=>o.templateData.questPlayerOption1=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-NPC-option-1"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questNPCOption1,"onUpdate:modelValue":t[10]||(t[10]=e=>o.templateData.questNPCOption1=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-player-option-2"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questPlayerOption2,"onUpdate:modelValue":t[11]||(t[11]=e=>o.templateData.questPlayerOption2=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-NPC-option-2"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questNPCOption2,"onUpdate:modelValue":t[12]||(t[12]=e=>o.templateData.questNPCOption2=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-player-option-3"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questPlayerOption3,"onUpdate:modelValue":t[13]||(t[13]=e=>o.templateData.questPlayerOption3=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-NPC-option-3"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questNPCOption3,"onUpdate:modelValue":t[14]||(t[14]=e=>o.templateData.questNPCOption3=e)},null,8,["modelValue"])])),_:1})])),_:1}),u($),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-journal-start"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.journalStart,"onUpdate:modelValue":t[15]||(t[15]=e=>o.templateData.journalStart=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-journal-done"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.journalDone,"onUpdate:modelValue":t[16]||(t[16]=e=>o.templateData.journalDone=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(w,{type:"border-card",class:"template-tabs",modelValue:o.objective,"onUpdate:modelValue":t[19]||(t[19]=e=>o.objective=e)},{default:m((()=>[u(V,{label:e.$t("mmobkill"),name:"mmobkill"},{default:m((()=>[Ne,u(N,{class:"field-editor",style:{width:"200px"},placeholder:e.$t("mmomob-name"),modelValue:o.templateData.mobName,"onUpdate:modelValue":t[17]||(t[17]=e=>o.templateData.mobName=e)},null,8,["placeholder","modelValue"]),$e,u(N,{class:"field-editor",style:{width:"70px"},placeholder:e.$t("amount"),modelValue:o.templateData.mobAmount,"onUpdate:modelValue":t[18]||(t[18]=e=>o.templateData.mobAmount=e)},null,8,["placeholder","modelValue"]),c(" notify events:event_"+r(o.templateData.questName)+"_done ",1)])),_:1},8,["label"])])),_:1},8,["modelValue"]),u($),u(b,{class:"template-setting"},{default:m((()=>[u(x,{modelValue:o.templateData.addToFirst,"onUpdate:modelValue":t[20]||(t[20]=e=>o.templateData.addToFirst=e)},{default:m((()=>[c(r(e.$t("template-add-to-first-message")),1)])),_:1},8,["modelValue"])])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(x,{modelValue:o.templateData.addToHologram,"onUpdate:modelValue":t[21]||(t[21]=e=>o.templateData.addToHologram=e)},{default:m((()=>[c(r(e.$t("template-add-to-hologram-conditions")),1)])),_:1},8,["modelValue"])])),_:1}),u("div",Ve,[u(g,{type:"success",onClick:_.apply},{default:m((()=>[c(r(e.$t("apply")),1)])),_:1},8,["onClick"])])]))};const De={props:["modelValue","subSectionName"],data(){return{sectionInfo:null,templateData:{langSlug:this.$root.settings.language,questName:"example",questReadableName:"Example quest",expReward:"200",moneyReward:"1000",requiedLevel:"10",questPlayerOption1:"$default.quest_prefix$Hi!",questNPCOption1:"Hello, do the quest for the glory of example!",questPlayerOption2:"$default.quest_yes_prefix$Okay, I will.",questNPCOption2:"Go and do it!",questPlayerOption3:"$default.quest_done_prefix$I did what you told",questNPCOption3:"Thank you!",journalStart:"Started.",itemSetting:"paper custom-model-data:330 name:&fItem_name lore:&7Item;&7description_space;&2Предмет_для_задания quest_items_unbreakable:true",itemObjective:"action right item_name loc:-100;64;-100;world_rpg"},preview:!1,previewText:null,error:null}},computed:{projectData:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},created(){this.sectionInfo=this.projectData[this.subSectionName]},methods:{togglePreview(){this.previewText=this.getFormattedYaml(),this.preview=!0},toggleEdit(){this.previewText=null,this.preview=!1},getFormattedYaml(){let e="conversations:\n  NPC_options:\n    message_{questName}_start:\n      text:\n        {langSlug}: '{questNPCOption1}\\n\\n&6Необходимый уровень {requiedLevel}\\n\\n&2Награда:\\n✦ ${questName}_exp$ опыта\\n■ ${questName}_money$ монет&0---'\n      pointers: option_{questName}_yes, option_no\n    message_{questName}_yes:\n      text: \n        {langSlug}: '{questNPCOption2}'\n      event: event_{questName}_start\n      pointers: option_ok\n    message_{questName}_done:\n      text: \n        {langSlug}: '{questNPCOption3}'\n      event: event_{questName}_paid\n      pointers: option_ok\n\n  player_options:\n    option_{questName}_start:\n      text: \n        {langSlug}: '{questPlayerOption1}'\n      conditions: '!cond_{questName}_started'\n      pointers: message_{questName}_start\n    option_{questName}_yes:\n      text: \n        {langSlug}: '{questPlayerOption2}'\n      conditions: 'cond_level_{requiedLevel}'\n      pointers: message_{questName}_yes\n    option_{questName}_done:\n      text:\n        {langSlug}: '{questPlayerOption3}'\n      conditions: 'cond_{questName}_done,!cond_{questName}_paid'\n      pointers: message_{questName}_done\n\nevents:\n  event_{questName}_start: folder event_{questName}_s1,event_{questName}_s2,event_{questName}_s3\n  event_{questName}_s1: journal add j_{questName}_started\n  event_{questName}_s2: tag add tag_{questName}_started\n  event_{questName}_s3: notify &2Вы начали квест &a${questName}_name$ category:start_quest\n\n  event_{questName}_give_item: give item_{questName} notify\n\n  event_{questName}_paid: folder event_{questName}_p1,event_{questName}_p2,event_{questName}_p3,event_{questName}_p4,event_{questName}_p5,event_{questName}_s6\n  event_{questName}_p1: journal delete j_{questName}_started\n  event_{questName}_p2: tag add tag_{questName}_paid\n  event_{questName}_p3: run ^command mmocore admin exp give %player% main ${questName}_exp$ ^notify &eВы получили &6${questName}_exp$ &eопыта category:reward\n  event_{questName}_p4: money ${questName}_money$ notify\n  event_{questName}_p5: notify &2Вы закончили квест &a${questName}_name$ category:end_quest\n  event_{questName}_s6: take item_{questName} notify\n\nconditions:\n  cond_{questName}_icon1: and cond_level_{requiedLevel},!cond_{questName}_started\n  cond_{questName}_icon2: and cond_{questName}_started,!cond_{questName}_done,!cond_{questName}_paid\n  cond_{questName}_icon3: and cond_{questName}_done,!cond_{questName}_paid\n\n  cond_{questName}_started: tag tag_{questName}_started\n  cond_{questName}_item: item item_{questName}\n  cond_{questName}_done: and cond_{questName}_started,cond_{questName}_item\n  cond_{questName}_paid: tag tag_{questName}_paid\n\nitems:\n  item_{questName}: {itemSetting}\n\njournal:\n  j_{questName}_started:\n    {langSlug}: '{journalStart}'\n\nmain:\n  variables:\n    {questName}_name: '{questReadableName}'\n    {questName}_exp: {expReward}\n    {questName}_money: {moneyReward}\n\nobjectives:\n  obj_{questName}: {itemObjective} events:event_{questName}_give_item range:2 global\n";for(const[t,a]of Object.entries(this.templateData))e=e.replaceAll(`{${t}}`,a||"");return e},apply(){try{if(this.error=null,!this.templateData.quester)return void(this.error=this.$t("no-quester"));const e=t.load(this.getFormattedYaml());this.sectionInfo.conversations[this.templateData.quester].NPC_options=Object.assign({},this.sectionInfo.conversations[this.templateData.quester].NPC_options,e.conversations.NPC_options),this.sectionInfo.conversations[this.templateData.quester].player_options=Object.assign({},this.sectionInfo.conversations[this.templateData.quester].player_options,e.conversations.player_options),this.sectionInfo.events=Object.assign({},this.sectionInfo.events,e.events),this.sectionInfo.conditions=Object.assign({},this.sectionInfo.conditions,e.conditions),this.sectionInfo.journal=Object.assign({},this.sectionInfo.journal,e.journal),this.sectionInfo.objectives=Object.assign({},this.sectionInfo.objectives,e.objectives),this.sectionInfo.items=Object.assign({},this.sectionInfo.items,e.items),this.sectionInfo.main||(this.sectionInfo.main={variables:{},npcs:{},compass:{}}),this.sectionInfo.main.variables=Object.assign({},this.sectionInfo.main.variables,e.main.variables),this.$message({type:"success",dangerouslyUseHTMLString:!0,message:this.$t("template-applyed")}),this.$emit("close")}catch(e){let t=e;"YAMLException"===e.name&&(t=e.message),this.error=t}}}},je={key:0},ke={class:"menu-buttons"},Ce={class:"right-section"},Se={key:1},Te={class:"menu-buttons"};De.render=function(e,t,a,n,o,_){const g=s("el-button"),f=s("el-alert"),v=s("el-col"),q=s("el-option"),y=s("el-select"),b=s("el-row"),N=s("el-input"),$=s("el-divider");return o.preview?(l(),i("div",Se,[u("div",Te,[u(g,{size:"mini",class:"menu-button",onClick:_.toggleEdit},{default:m((()=>[c(r(e.$t("return-to-edit")),1)])),_:1},8,["onClick"])]),u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:50},modelValue:o.previewText,"onUpdate:modelValue":t[16]||(t[16]=e=>o.previewText=e),readonly:!0},null,8,["modelValue"])])):(l(),i("div",je,[u("div",ke,[u(g,{size:"mini",class:"menu-button",onClick:_.togglePreview},{default:m((()=>[c(r(e.$t("preview")),1)])),_:1},8,["onClick"])]),o.error?(l(),i(f,{key:0,title:o.error,class:"template-error",type:"error"},null,8,["title"])):h("",!0),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-select"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(y,{modelValue:o.templateData.quester,"onUpdate:modelValue":t[1]||(t[1]=e=>o.templateData.quester=e),placeholder:" "},{default:m((()=>[(l(!0),i(p,null,d(o.sectionInfo.conversations,((e,t)=>(l(),i(q,{key:t,label:t,value:t},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-name"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(N,{modelValue:o.templateData.questName,"onUpdate:modelValue":t[2]||(t[2]=e=>o.templateData.questName=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-readable-name"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(N,{modelValue:o.templateData.questReadableName,"onUpdate:modelValue":t[3]||(t[3]=e=>o.templateData.questReadableName=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-exp-reward"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(N,{modelValue:o.templateData.expReward,"onUpdate:modelValue":t[4]||(t[4]=e=>o.templateData.expReward=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-money-reward"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(N,{modelValue:o.templateData.moneyReward,"onUpdate:modelValue":t[5]||(t[5]=e=>o.templateData.moneyReward=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-level"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(N,{modelValue:o.templateData.requiedLevel,"onUpdate:modelValue":t[6]||(t[6]=e=>o.templateData.requiedLevel=e)},null,8,["modelValue"])])),_:1})])),_:1}),u($),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-item-setting"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.itemSetting,"onUpdate:modelValue":t[7]||(t[7]=e=>o.templateData.itemSetting=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-item-objective"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.itemObjective,"onUpdate:modelValue":t[8]||(t[8]=e=>o.templateData.itemObjective=e)},null,8,["modelValue"])])),_:1})])),_:1}),u($),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-player-option-1"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questPlayerOption1,"onUpdate:modelValue":t[9]||(t[9]=e=>o.templateData.questPlayerOption1=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-NPC-option-1"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questNPCOption1,"onUpdate:modelValue":t[10]||(t[10]=e=>o.templateData.questNPCOption1=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-player-option-2"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questPlayerOption2,"onUpdate:modelValue":t[11]||(t[11]=e=>o.templateData.questPlayerOption2=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-NPC-option-2"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questNPCOption2,"onUpdate:modelValue":t[12]||(t[12]=e=>o.templateData.questNPCOption2=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-player-option-3"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questPlayerOption3,"onUpdate:modelValue":t[13]||(t[13]=e=>o.templateData.questPlayerOption3=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-NPC-option-3"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questNPCOption3,"onUpdate:modelValue":t[14]||(t[14]=e=>o.templateData.questNPCOption3=e)},null,8,["modelValue"])])),_:1})])),_:1}),u($),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-journal-start"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u(N,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.journalStart,"onUpdate:modelValue":t[15]||(t[15]=e=>o.templateData.journalStart=e)},null,8,["modelValue"])])),_:1})])),_:1}),u("div",Ce,[u(g,{type:"success",onClick:_.apply},{default:m((()=>[c(r(e.$t("apply")),1)])),_:1},8,["onClick"])])]))};const Ie={props:["modelValue","subSectionName"],data(){return{sectionInfo:null,templateData:{addToFirst:!0,addToHologram:!0,questerFrom:null,questerTo:null,langSlug:this.$root.settings.language,questName:"example",questReadableName:"Example quest",expReward:"200",moneyReward:"1000",requiedLevel:"10",questPlayerOption1:"$default.quest_prefix$Hi!",questNPCOption1:"Hello, do the quest for the glory of example!",questPlayerOption2:"$default.quest_yes_prefix$Okay, I will.",questNPCOption2:"Go and do it!",questPlayerOption3:"$default.quest_done_prefix$I did what you told",questNPCOption3:"Thank you!",journalStart:"Started.",compassName:"Target",compassLocation:"100;66;100;world_rpg"},preview:!1,previewText:null,error:null,questers:[]}},computed:{projectData:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},created(){for(const[e,t]of Object.entries(this.projectData))for(const[a,n]of Object.entries(t.conversations))this.questers.push({quester:a,sectionKey:e});this.sectionInfo=this.projectData[this.subSectionName]},methods:{togglePreview(){this.previewText=this.getFormattedYaml(),this.preview=!0},toggleEdit(){this.previewText=null,this.preview=!1},getFormattedYaml(){let e="conversations:\n  from:\n    NPC_options:\n      message_{questName}_start:\n        text:\n          {langSlug}: '{questNPCOption1}\\n\\n&6Необходимый уровень {requiedLevel}\\n\\n&2Награда:\\n✦ ${questName}_exp$ опыта\\n■ ${questName}_money$ монет&0---'\n        pointers: option_{questName}_yes, option_no\n      message_{questName}_yes:\n        text: \n          {langSlug}: '{questNPCOption2}'\n        event: event_{questName}_start\n        pointers: option_ok\n\n    player_options:\n      option_{questName}_start:\n        text: \n          {langSlug}: '{questPlayerOption1}'\n        conditions: '!cond_{questName}_started'\n        pointers: message_{questName}_start\n      option_{questName}_yes:\n        text: \n          {langSlug}: '{questPlayerOption2}'\n        conditions: 'default.cond_level_{requiedLevel}'\n        pointers: message_{questName}_yes\n\n  to:\n    NPC_options:\n      message_{questName}_done:\n        text:\n          {langSlug}: '{questNPCOption3}'\n        event: {sectionQuesterFrom}.event_{questName}_paid\n        pointers: option_ok\n\n    player_options:\n      option_{questName}_done:\n        text:\n          {langSlug}: '{questPlayerOption3}'\n        conditions: '{sectionQuesterFrom}.cond_{questName}_started,!{sectionQuesterFrom}.cond_{questName}_paid'\n        pointers: message_{questName}_done\n\nevents:\n  event_{questName}_start: folder event_{questName}_s1,event_{questName}_s2,event_{questName}_s3,event_{questName}_s4\n  event_{questName}_s1: journal add j_{questName}_started\n  event_{questName}_s2: tag add tag_{questName}_started\n  event_{questName}_s3: notify &2Вы начали квест &a${questName}_name$ category:default.start_quest\n  event_{questName}_s4: compass add compass_{questName}\n\n  event_{questName}_paid: folder event_{questName}_p1,event_{questName}_p2,event_{questName}_p3,event_{questName}_p4,event_{questName}_p5,event_{questName}_p6\n  event_{questName}_p1: journal delete j_{questName}_started\n  event_{questName}_p2: tag add tag_{questName}_paid\n  event_{questName}_p3: run ^command mmocore admin exp give %player% main ${questName}_exp$ ^notify &eВы получили &6${questName}_exp$ &eопыта category:default.reward\n  event_{questName}_p4: money ${questName}_money$ notify\n  event_{questName}_p5: notify &2Вы закончили квест &a${questName}_name$ category:default.end_quest\n  event_{questName}_p6: compass del compass_{questName}\n\nconditions:\n  cond_{questName}_icon1: and default.cond_level_{requiedLevel},!cond_{questName}_started\n  cond_{questName}_icon2: and cond_{questName}_started,!cond_{questName}_paid\n  cond_{questName}_icon3: and cond_{questName}_icon2\n\n  cond_{questName}_started: tag tag_{questName}_started\n  cond_{questName}_paid: tag tag_{questName}_paid\n\njournal:\n  j_{questName}_started:\n    {langSlug}: '{journalStart}'\n\nmain:\n  variables:\n    {questName}_name: '{questReadableName}'\n    {questName}_exp: {expReward}\n    {questName}_money: {moneyReward}\n  compass:\n    compass_{questName}:\n      name:\n        ru: {compassName}\n      location: {compassLocation}\n      item: compass_button\n";for(const[t,a]of Object.entries(this.templateData))e=e.replaceAll(`{${t}}`,a||"");if(this.templateData.questerFrom){let t=this.templateData.questerFrom.split(".")[0];e=e.replaceAll("{sectionQuesterFrom}",t)}return e},apply(){try{if(this.error=null,!this.templateData.questerFrom||!this.templateData.questerTo)return void(this.error=this.$t("no-quester"));let e=this.templateData.questerFrom.split(".")[1],a=this.templateData.questerFrom.split(".")[0],n=this.templateData.questerTo.split(".")[1],o=this.templateData.questerTo.split(".")[0],s=t.load(this.getFormattedYaml());const l=this.projectData[a],i=this.projectData[o];if(l.conversations[e].NPC_options=Object.assign({},l.conversations[e].NPC_options,s.conversations.from.NPC_options),l.conversations[e].player_options=Object.assign({},l.conversations[e].player_options,s.conversations.from.player_options),i.conversations[n].NPC_options=Object.assign({},i.conversations[n].NPC_options,s.conversations.to.NPC_options),i.conversations[n].player_options=Object.assign({},i.conversations[n].player_options,s.conversations.to.player_options),l.events=Object.assign({},l.events,s.events),l.conditions=Object.assign({},l.conditions,s.conditions),l.journal=Object.assign({},l.journal,s.journal),l.main||(l.main={variables:{},npcs:{},compass:{}}),l.main.variables=Object.assign({},l.main.variables,s.main.variables),l.main.compass=Object.assign({},l.main.compass,s.main.compass),this.templateData.addToFirst){const t=l.conversations[e].first;if(t){let a=l.conversations[e].NPC_options[t].pointers;l.conversations[e].NPC_options[t].pointers=`option_${this.templateData.questName}_start,${a}`}const a=i.conversations[n].first;if(a){let e=i.conversations[n].NPC_options[a].pointers;i.conversations[n].NPC_options[a].pointers=`option_${this.templateData.questName}_done,${e}`}}if(this.templateData.addToHologram){let t=l.conditions[`cond_quest_avalible_${e}`];l.conditions[`cond_quest_avalible_${e}`]=`${t},cond_${this.templateData.questName}_icon1`;let a=i.conditions[`cond_quest_progress_${n}`];i.conditions[`cond_quest_progress_${n}`]=`${a},{sectionQuesterFrom}.cond_${this.templateData.questName}_icon2`;let o=i.conditions[`cond_quest_done_${n}`];i.conditions[`cond_quest_done_${n}`]=`${o},{sectionQuesterFrom}.cond_${this.templateData.questName}_icon3`}this.$message({type:"success",dangerouslyUseHTMLString:!0,message:this.$t("template-applyed")}),this.$emit("close")}catch(e){let t=e;"YAMLException"===e.name&&(t=e.message),this.error=t}}}},Pe={key:0},Oe={class:"menu-buttons"},Ue={class:"right-section"},Re={key:1},ze={class:"menu-buttons"};Ie.render=function(e,t,a,n,o,_){const g=s("el-button"),f=s("el-alert"),v=s("el-col"),q=s("el-option"),y=s("el-select"),b=s("el-row"),N=s("el-divider"),$=s("el-input"),V=s("el-checkbox");return o.preview?(l(),i("div",Re,[u("div",ze,[u(g,{size:"mini",class:"menu-button",onClick:_.toggleEdit},{default:m((()=>[c(r(e.$t("return-to-edit")),1)])),_:1},8,["onClick"])]),u($,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:50},modelValue:o.previewText,"onUpdate:modelValue":t[19]||(t[19]=e=>o.previewText=e),readonly:!0},null,8,["modelValue"])])):(l(),i("div",Pe,[u("div",Oe,[u(g,{size:"mini",class:"menu-button",onClick:_.togglePreview},{default:m((()=>[c(r(e.$t("preview")),1)])),_:1},8,["onClick"])]),o.error?(l(),i(f,{key:0,title:o.error,class:"template-error",type:"error"},null,8,["title"])):h("",!0),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-select-from"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(y,{modelValue:o.templateData.questerFrom,"onUpdate:modelValue":t[1]||(t[1]=e=>o.templateData.questerFrom=e),placeholder:" "},{default:m((()=>[(l(!0),i(p,null,d(o.questers,(e=>(l(),i(q,{key:`from_${e.quester}`,label:`${e.sectionKey}.${e.quester}`,value:`${e.sectionKey}.${e.quester}`},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-select-to"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u(y,{modelValue:o.templateData.questerTo,"onUpdate:modelValue":t[2]||(t[2]=e=>o.templateData.questerTo=e),placeholder:" "},{default:m((()=>[(l(!0),i(p,null,d(o.questers,(e=>(l(),i(q,{key:`to_${e.quester}`,label:`${e.sectionKey}.${e.quester}`,value:`${e.sectionKey}.${e.quester}`},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),u(N),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-name"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u($,{modelValue:o.templateData.questName,"onUpdate:modelValue":t[3]||(t[3]=e=>o.templateData.questName=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-readable-name"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u($,{modelValue:o.templateData.questReadableName,"onUpdate:modelValue":t[4]||(t[4]=e=>o.templateData.questReadableName=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-exp-reward"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u($,{modelValue:o.templateData.expReward,"onUpdate:modelValue":t[5]||(t[5]=e=>o.templateData.expReward=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-money-reward"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u($,{modelValue:o.templateData.moneyReward,"onUpdate:modelValue":t[6]||(t[6]=e=>o.templateData.moneyReward=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-level"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u($,{modelValue:o.templateData.requiedLevel,"onUpdate:modelValue":t[7]||(t[7]=e=>o.templateData.requiedLevel=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(N),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-compass-name"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u($,{modelValue:o.templateData.compassName,"onUpdate:modelValue":t[8]||(t[8]=e=>o.templateData.compassName=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-compass-location"))+":",1)])),_:1}),u(v,{span:18,class:"field-editor"},{default:m((()=>[u($,{modelValue:o.templateData.compassLocation,"onUpdate:modelValue":t[9]||(t[9]=e=>o.templateData.compassLocation=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(N),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-player-option-1"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u($,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questPlayerOption1,"onUpdate:modelValue":t[10]||(t[10]=e=>o.templateData.questPlayerOption1=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-NPC-option-1"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u($,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questNPCOption1,"onUpdate:modelValue":t[11]||(t[11]=e=>o.templateData.questNPCOption1=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-player-option-2"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u($,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questPlayerOption2,"onUpdate:modelValue":t[12]||(t[12]=e=>o.templateData.questPlayerOption2=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-NPC-option-2"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u($,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questNPCOption2,"onUpdate:modelValue":t[13]||(t[13]=e=>o.templateData.questNPCOption2=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(N),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-player-option-3"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u($,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questPlayerOption3,"onUpdate:modelValue":t[14]||(t[14]=e=>o.templateData.questPlayerOption3=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-NPC-option-3"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u($,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.questNPCOption3,"onUpdate:modelValue":t[15]||(t[15]=e=>o.templateData.questNPCOption3=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(N),u(b,{class:"template-setting"},{default:m((()=>[u(v,{span:6,class:"field-name"},{default:m((()=>[c(r(e.$t("template-quest-journal-start"))+":",1)])),_:1}),u(v,{span:18},{default:m((()=>[u($,{class:"small-editor",type:"textarea",autosize:{minRows:1,maxRows:20},modelValue:o.templateData.journalStart,"onUpdate:modelValue":t[16]||(t[16]=e=>o.templateData.journalStart=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(N),u(b,{class:"template-setting"},{default:m((()=>[u(V,{modelValue:o.templateData.addToFirst,"onUpdate:modelValue":t[17]||(t[17]=e=>o.templateData.addToFirst=e)},{default:m((()=>[c(r(e.$t("template-add-to-first-message")),1)])),_:1},8,["modelValue"])])),_:1}),u(b,{class:"template-setting"},{default:m((()=>[u(V,{modelValue:o.templateData.addToHologram,"onUpdate:modelValue":t[18]||(t[18]=e=>o.templateData.addToHologram=e)},{default:m((()=>[c(r(e.$t("template-add-to-hologram-conditions")),1)])),_:1},8,["modelValue"])])),_:1}),u("div",Ue,[u(g,{type:"success",onClick:_.apply},{default:m((()=>[c(r(e.$t("apply")),1)])),_:1},8,["onClick"])])]))};const Le={components:{conversation:E,simpleSection:_e,yamlEditor:z},props:["modelValue","projectData","subSectionName"],data(){return{addVisible:!1,newNameError:null,newName:"",newNPCID:null,newNPCholograms:!1,dialogSelected:null,menuSelected:null,newMode:null,sectionSelected:"dialogs",templateDialogVisible:!1,templates:[{label:this.$t("template-objective"),template:v(qe)},{label:this.$t("template-bring-item"),template:v(De)},{label:this.$t("template-move-to"),template:v(Ie)}],loadedDialogsections:{},templateTabSelected:null}},computed:{sectionInfo:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{templateOpen(){this.templateDialogVisible=!0},createTemplate(){this.templateDialogVisible=!1},removeDialogSection(e){this.$confirm(this.$t("delete-section").replace("{tab}",e),this.$t("confirm"),{confirmButtonText:this.$t("delete"),cancelButtonText:this.$t("cancel"),type:"warning"}).then((()=>{delete this.projectData[e],this.$message({type:"success",dangerouslyUseHTMLString:!0,message:this.$t("tab-deleted").replace("{tab}",e)})}))},addDialoge(){if(this.newName.length<=0)this.newNameError=this.$t("empty-title");else{if(this.sectionInfo.conversations||(this.sectionInfo.conversations={}),"dialog"===this.newMode){if(this.sectionInfo.conversations||(this.sectionInfo.conversations={}),this.sectionInfo.conversations[this.newName])return void(this.newNameError=this.$t("dialog-exists").replace("{newName}",this.newName));if(!this.newName.match(/^[a-z0-9_]+$/))return void(this.newNameError=this.$t("exists-regex"));if(this.newNPCID&&!this.newNPCID.match(/^[0-9]+$/))return void(this.newNameError=this.$t("id-only-numbers"));let e=a;e=a.replaceAll("{npcName}",this.newName).replaceAll("{npcID}",this.newNPCID).replaceAll("{langSlug}",this.$root.settings.language);const a=t.load(newConfigHologramText);this.sectionInfo.conversations[this.newName]=a.conversations,this.newNPCID&&(this.sectionInfo.main.npcs[this.newNPCID]=this.newName,this.sectionInfo.custom||(this.sectionInfo.custom={npc_holograms:{check_interval:100}}),this.newNPCholograms&&(this.sectionInfo.custom.npc_holograms=Object.assign({},this.sectionInfo.custom.npc_holograms,a.npc_holograms)),this.newNPCholograms&&(this.sectionInfo.conditions=Object.assign({},this.sectionInfo.conditions,a.conditions)),this.newNPCholograms=!1),this.newNPCID=null,this.dialogSelected=this.newName,this.$message({type:"success",dangerouslyUseHTMLString:!0,message:this.$t("dialog-section-created").replace("{newName}",this.newName)})}else if("menu"===this.newMode){if(this.sectionInfo.menus||(this.sectionInfo.menus={}),this.sectionInfo.menus[this.newName])return void(this.newNameError=this.$t("menu-section-exists").replace("{newName}",this.newName));this.sectionInfo.menus||(this.sectionInfo.menus={}),this.sectionInfo.menus[this.newName]={},this.$message({type:"success",dangerouslyUseHTMLString:!0,message:this.$t("menu-section-created").replace("{newName}",this.newName)})}this.dialogSelected=this.newName,this.newName=null,this.includeExample=!1,this.addVisible=!1,this.newNameError=null,this.newMode=null}},removeDialogSection(e){this.$confirm(this.$t("delete-dialog-section"),this.$t("delete"),{confirmButtonText:this.$t("delete"),cancelButtonText:this.$t("cancel")}).then((()=>{delete this.sectionInfo.conversations[e],this.$message({type:"success",dangerouslyUseHTMLString:!0,message:this.$t("dialog-section-deleted").replace("{section}",e)})}))},openNew(e){this.includeExample=!1,this.newMode=e,this.newName="",this.addVisible=!0},closeTemplate(){this.templateDialogVisible=!1},dialogSectionSelect(e,t){this.loadedDialogsections[e.paneName]=!0}}},Me=u("i",{class:"el-icon-chat-line-round"},null,-1),Ee={class:"menu-buttons"},Fe={class:"dialogs-tabs"},Ae=u("i",{class:"el-icon-s-grid"},null,-1),He={class:"menu-buttons"},Qe={class:"dialogs-tabs"},Ye=u("i",{class:"el-icon-setting"},null,-1),Ke=u("i",{class:"el-icon-magic-stick"},null,-1),Be=u("i",{class:"el-icon-lock"},null,-1),Je=u("i",{class:"el-icon-document-checked"},null,-1),Ze=u("i",{class:"el-icon-shopping-bag-2"},null,-1),Ge=u("i",{class:"el-icon-tickets"},null,-1),We=u("i",{class:"el-icon-more-outline"},null,-1),Xe={class:"dialog-subsection"},et={key:1,class:"dialog-subsection"},tt={key:2,class:"dialog-subsection"},at={class:"dialog-footer"};Le.render=function(e,t,a,n,o,_){const g=s("el-button"),f=s("conversation"),v=s("el-tab-pane"),y=s("el-tabs"),b=s("yamlEditor"),N=s("el-alert"),$=s("el-input"),V=s("el-checkbox"),w=s("el-dialog");return l(),i(p,null,[u(y,{"tab-position":"left",modelValue:o.sectionSelected,"onUpdate:modelValue":t[12]||(t[12]=e=>o.sectionSelected=e),class:"section-tabs",onTabRemove:_.removeDialogSection},{default:m((()=>[u(v,{name:"dialogs"},{label:m((()=>[u("span",null,[c(r(e.$t("dialogs"))+" ",1),Me])])),default:m((()=>[u("div",Ee,[u(g,{size:"mini",onClick:t[1]||(t[1]=e=>_.openNew("dialog")),class:"menu-button",icon:"el-icon-plus"},{default:m((()=>[c(r(e.$t("add-dialog-section")),1)])),_:1}),u(g,{size:"mini",onClick:_.templateOpen,class:"menu-button",icon:"el-icon-document-add",type:"primary",plain:""},{default:m((()=>[c(r(e.$t("template-create")),1)])),_:1},8,["onClick"])]),u("div",Fe,[u(y,{"tab-position":"left",modelValue:o.dialogSelected,"onUpdate:modelValue":t[2]||(t[2]=e=>o.dialogSelected=e),closable:!0,onTabRemove:_.removeDialogSection,onTabClick:_.dialogSectionSelect},{default:m((()=>[(l(!0),i(p,null,d(_.sectionInfo.conversations,((e,t)=>(l(),i(v,{label:t,name:t,key:t},{default:m((()=>[o.loadedDialogsections[t]?(l(),i(f,{key:0,modelValue:_.sectionInfo.conversations[t],"onUpdate:modelValue":e=>_.sectionInfo.conversations[t]=e,"dialog-section-name":t,"project-data":a.projectData,"sub-section-name":a.subSectionName},null,8,["modelValue","onUpdate:modelValue","dialog-section-name","project-data","sub-section-name"])):h("",!0)])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue","onTabRemove","onTabClick"])])])),_:1}),u(v,null,{label:m((()=>[u("span",null,[c(r(e.$t("menus"))+" ",1),Ae])])),default:m((()=>[u("div",He,[u(g,{size:"mini",onClick:t[3]||(t[3]=e=>_.openNew("menu")),class:"menu-button"},{default:m((()=>[c(r(e.$t("add-menu")),1)])),_:1})]),u("div",Qe,[u(y,{"tab-position":"left",modelValue:o.menuSelected,"onUpdate:modelValue":t[4]||(t[4]=e=>o.menuSelected=e)},{default:m((()=>[(l(!0),i(p,null,d(_.sectionInfo.menus,((e,t)=>(l(),i(v,{label:t,name:t,key:t},{default:m((()=>[u(b,{modelValue:_.sectionInfo.menus[t],"onUpdate:modelValue":e=>_.sectionInfo.menus[t]=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])])])),_:1}),u(v,{name:"main"},{label:m((()=>[u("span",null,[c(r(e.$t("main"))+" ",1),Ye])])),default:m((()=>["main"===o.sectionSelected?(l(),i(b,{key:0,modelValue:_.sectionInfo.main,"onUpdate:modelValue":t[5]||(t[5]=e=>_.sectionInfo.main=e)},null,8,["modelValue"])):h("",!0)])),_:1}),u(v,{name:"events"},{label:m((()=>[u("span",null,[c(r(e.$t("events"))+" ",1),Ke])])),default:m((()=>["events"===o.sectionSelected?(l(),i(b,{key:0,modelValue:_.sectionInfo.events,"onUpdate:modelValue":t[6]||(t[6]=e=>_.sectionInfo.events=e)},null,8,["modelValue"])):h("",!0)])),_:1}),u(v,{name:"conditions"},{label:m((()=>[u("span",null,[c(r(e.$t("conditions"))+" ",1),Be])])),default:m((()=>["conditions"===o.sectionSelected?(l(),i(b,{key:0,modelValue:_.sectionInfo.conditions,"onUpdate:modelValue":t[7]||(t[7]=e=>_.sectionInfo.conditions=e)},null,8,["modelValue"])):h("",!0)])),_:1}),u(v,{name:"objectives"},{label:m((()=>[u("span",null,[c(r(e.$t("objectives"))+" ",1),Je])])),default:m((()=>["objectives"===o.sectionSelected?(l(),i(b,{key:0,modelValue:_.sectionInfo.objectives,"onUpdate:modelValue":t[8]||(t[8]=e=>_.sectionInfo.objectives=e)},null,8,["modelValue"])):h("",!0)])),_:1}),u(v,{name:"items"},{label:m((()=>[u("span",null,[c(r(e.$t("items"))+" ",1),Ze])])),default:m((()=>["items"===o.sectionSelected?(l(),i(b,{key:0,modelValue:_.sectionInfo.items,"onUpdate:modelValue":t[9]||(t[9]=e=>_.sectionInfo.items=e)},null,8,["modelValue"])):h("",!0)])),_:1}),u(v,{name:"journal"},{label:m((()=>[u("span",null,[c(r(e.$t("journal"))+" ",1),Ge])])),default:m((()=>["journal"===o.sectionSelected?(l(),i(b,{key:0,modelValue:_.sectionInfo.journal,"onUpdate:modelValue":t[10]||(t[10]=e=>_.sectionInfo.journal=e)},null,8,["modelValue"])):h("",!0)])),_:1}),u(v,{name:"custom"},{label:m((()=>[u("span",null,[c(r(e.$t("custom"))+" ",1),We])])),default:m((()=>["custom"===o.sectionSelected?(l(),i(b,{key:0,modelValue:_.sectionInfo.custom,"onUpdate:modelValue":t[11]||(t[11]=e=>_.sectionInfo.custom=e)},null,8,["modelValue"])):h("",!0)])),_:1})])),_:1},8,["modelValue","onTabRemove"]),u(w,{title:e.$t("create-subsection"),modelValue:o.addVisible,"onUpdate:modelValue":t[17]||(t[17]=e=>o.addVisible=e),width:"30%","custom-class":"create-section-dialog","close-on-click-modal":!1},{footer:m((()=>[u("span",at,[u(g,{onClick:t[16]||(t[16]=e=>o.addVisible=!1)},{default:m((()=>[c(r(e.$t("cancel")),1)])),_:1}),u(g,{type:"primary",onClick:_.addDialoge},{default:m((()=>[c(r(e.$t("create")),1)])),_:1},8,["onClick"])])])),default:m((()=>[o.newNameError?(l(),i(N,{key:0,title:o.newNameError,type:"error"},null,8,["title"])):h("",!0),u("div",Xe,[u("span",null,r(e.$t("dialog-section-name")),1),u($,{modelValue:o.newName,"onUpdate:modelValue":t[13]||(t[13]=e=>o.newName=e)},null,8,["modelValue"])]),"dialog"===o.newMode?(l(),i("div",et,[u("span",null,r(e.$t("dialog-quester-npc-id")),1),u($,{modelValue:o.newNPCID,"onUpdate:modelValue":t[14]||(t[14]=e=>o.newNPCID=e)},null,8,["modelValue"])])):h("",!0),"dialog"===o.newMode?(l(),i("div",tt,[u(V,{modelValue:o.newNPCholograms,"onUpdate:modelValue":t[15]||(t[15]=e=>o.newNPCholograms=e),disabled:!o.newNPCID},{default:m((()=>[c(r(e.$t("add-configs-hologram-and-conditions-for-npc")),1)])),_:1},8,["modelValue","disabled"])])):h("",!0)])),_:1},8,["title","modelValue"]),u(w,{title:e.$t("template-dialog"),modelValue:o.templateDialogVisible,"onUpdate:modelValue":t[20]||(t[20]=e=>o.templateDialogVisible=e),width:"80%","custom-class":"template-dialog","close-on-click-modal":!1},{default:m((()=>[o.templateDialogVisible?(l(),i(y,{key:0,"tab-position":"left",modelValue:o.templateTabSelected,"onUpdate:modelValue":t[19]||(t[19]=e=>o.templateTabSelected=e),class:"template-tabs"},{default:m((()=>[(l(!0),i(p,null,d(o.templates,(e=>(l(),i(v,{label:e.label,name:e.label,key:e.label},{default:m((()=>[(l(),i(q(e.template),{modelValue:a.projectData,"onUpdate:modelValue":t[18]||(t[18]=e=>a.projectData=e),"sub-section-name":a.subSectionName,onClose:_.closeTemplate,"project-data":a.projectData},null,8,["modelValue","sub-section-name","onClose","project-data"]))])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])):h("",!0)])),_:1},8,["title","modelValue"])],64)};const nt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 480"},ot=u("g",{"fill-rule":"evenodd","stroke-width":"1pt"},[u("path",{fill:"#fff",d:"M0 0h640v480H0z"}),u("path",{fill:"#0039a6",d:"M0 160h640v320H0z"}),u("path",{fill:"#d52b1e",d:"M0 320h640v160H0z"})],-1);function st(e,t){return l(),i("svg",nt,[ot])}const lt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 480"},it=u("path",{fill:"#012169",d:"M0 0h640v480H0z"},null,-1),dt=u("path",{fill:"#FFF",d:"m75 0 244 181L562 0h78v62L400 241l240 178v61h-80L320 301 81 480H0v-60l239-178L0 64V0h75z"},null,-1),mt=u("path",{fill:"#C8102E",d:"m424 281 216 159v40L369 281h55zm-184 20 6 35L54 480H0l240-179zM640 0v3L391 191l2-44L590 0h50zM0 0l239 176h-60L0 42V0z"},null,-1),ut=u("path",{fill:"#FFF",d:"M241 0v480h160V0H241zM0 160v160h640V160H0z"},null,-1),ct=u("path",{fill:"#C8102E",d:"M0 193v96h640v-96H0zM273 0v480h96V0h-96z"},null,-1);function rt(e,t){return l(),i("svg",lt,[it,dt,mt,ut,ct])}const pt={components:{subSection:Le,ruFlag:st,enFlag:rt},data:()=>({projectData:{},sectionSelected:null,dialogAddSectionVisible:!1,newTabName:null,newTabNameError:null,inclideDialogExample:!1,inclideMenuExample:!1,openSettingsVisible:!1,init_settings:{language:"ru",dark:!1},_settings:{},avaliableLanguages:{en:rt,ru:st},jsonOptions:{lineWidth:-1,schema:t.DEFAULT_SCHEMA}}),computed:{settings:{get:function(){return this._settings},set:function(e){this._settings=e,this.saveSettings(this._settings)}}},created(){this.readSettings();y().setLocale(this.settings.language)},mounted(){document.addEventListener("keydown",this.keydown)},methods:{keydown(e){83===e.keyCode&&e.ctrlKey?(this.saveLocalStorage(0),e.preventDefault()):76===e.keyCode&&e.ctrlKey?(this.openLocalStorage(0),e.preventDefault()):69===e.keyCode&&e.ctrlKey?(this.saveAsZip(),e.preventDefault()):79===e.keyCode&&e.ctrlKey&&(this.openArchive(),e.preventDefault())},changeLang(e){this.settings.language=e,this.saveSettings(this.settings),document.location.reload()},closeAndSaveSettings(){this.openSettingsVisible=!1,this.saveSettings(this.settings)},saveSettings(e){localStorage.setItem("settings",JSON.stringify(e))},readSettings(){const e=JSON.parse(localStorage.getItem("settings"));this._settings=e||this.init_settings},addTab(){if(this.newTabName.length<=0)this.newTabNameError=this.$t("error-title-name-empty");else if(!this.projectData[this.newTabName]&&this.newTabName.match(/^[a-z0-9_]+$/)){if(this.projectData[this.newTabName]={custom:{npc_holograms:{check_interval:100}},main:{variables:{},npcs:{},compass:{}}},this.inclideDialogExample){const e=t.load("conversations:\n  gregory:\n    quester:\n      en: 'Gregory'\n      ru: 'Грегори'\n    first: message_start\n    stop: 'false' \n\n    NPC_options:\n\n      message_start:\n        text: \n          ru: 'Да?'\n          en: 'Yes?'\n        pointers: option_el_start,option_el_done, option_golem_start,option_golem_done ,option_bye\n\n      # el\n      message_el_start:\n        text: \n          ru: 'Здравствуй путник! Мое имя Грегори, Грегори Д`Вагнер, этот мир я увидел тридцать восемь зим назад. Когда-то давно, я тоже искал приключения, и жил опираясь только на миг настоящего, даже не задумываясь о будущем, считая, что в этом заключается мое счастье, быть свободным словно ветер и смотреть, как по ночному небу робко пробегают первые всполохи рассвета, пробиваясь сквозь сияние звезд. Что-то у меня в горле пересохло.. Я с удовольствием продолжу историю если ты принесёшь бутылочку эля.\\n\\n&6Необходимый уровень 5\\n\\n&2Награда:\\n✦ $mag_training_exp$ опыта\\n✦ $mag_training_money$ монет'\n        pointers: option_el_yes,option_no\n      message_el_yes:\n        text: \n          ru: 'Ты сможешь найти меня тут.'\n        event: event_el_start\n        pointers: option_ok\n      message_el_done:\n        text: 'Хороший эль.. О чем это я, так я считал до того решающего заказа на логово орков, где повстречал ее. Она не просто бегала, она буквально порхала вокруг целой толпы громил, кувыркаясь, приседая и осыпая чудовищ смертельными ударами своего кинжала. С этого задания и началась наша новая жизнь. Она была такая же, свободная и прекрасная, как лепестки сакуры на ветру, неуловима и свежа, словно теплый весенний ветерок в лесу.. Выпей со мной!'\n        event: event_el_paid\n        pointers: option_ok\n\n      # golem\n      message_golem_start:\n        text: \n          ru: 'В какой-то момент ей надоела жизнь на дороге и мы купили себе небольшой дом и мы хотели мирно жить.. Но меня манила свобода, и я, ослепленный ей, снова взял заказ, на пещерного голема. Будь проклят тот день, когда я решился на это.. Моя прекрасная Мэри естественно отправилась со мной, но там было слишком опасно. Она.. умерла прямо на моих глазах, а я ничего не мог сделать и сам еле спасся и был покалечен. Слепой идиот, слишком любивший свободу..'\n        pointers: option_golem_start_1\n      message_golem_start_1:\n        text: \n          ru: 'Так, свобода, о которой я так мечтал, стала для меня вечным пустым и холодным одиночеством.. Выбирай свои ценности правильно, не повторяй моих ошибок.'\n        pointers: option_golem_yes,option_no\n      message_golem_yes:\n        text: \n          ru: 'Если ты уверен, что хочешь этим заняться. Я отдам тебе всю награду.'\n        event: event_golem_start\n        pointers: option_ok\n      message_golem_done:\n        text: \n          ru: 'Невероятно! Вот, возьми всю награду.'\n        pointers: option_golem_paid1,option_golem_paid2\n\n    player_options:\n\n      option_el_start:\n        text: \n          ru: '$quest_prefix$Здравствуй'\n        conditions: '!cond_el_started'\n        pointers: message_el_start\n      option_el_yes:\n        text: \n          ru: '$quest_yes_prefix$Хорошо, я принесу.'\n        pointers: message_el_yes\n      option_el_done:\n        text: \n          ru: '$quest_done_prefix$Вот бутылочка'\n        conditions: 'cond_el_done,!cond_el_paid'\n        pointers: message_el_done\n\n      option_golem_start:\n        text: \n          ru: '$quest_prefix$Так что было дальше?'\n        conditions: '!cond_golem_started,cond_el_paid'\n        pointers: message_golem_start\n      option_golem_start_1:\n        text: \n          ru: '$quest_prefix$Почему?'\n        pointers: message_golem_start_1\n      option_golem_yes:\n        text: \n          ru: '$quest_yes_prefix$Возможно я смогу тебе помочь с заданием?'\n        pointers: message_golem_yes\n      option_golem_done:\n        text: \n          ru: '$quest_done_prefix$Я убил голема!'\n        conditions: 'cond_golem_done,!cond_golem_paid'\n        pointers: message_golem_done\n\n      option_golem_paid1:\n        text: \n          ru: '$quest_done_prefix$Не надо. Тебе эти деньги теперь нужны больше.'\n        event: event_golem_paid_exp\n      option_golem_paid2:\n        text: \n          ru: '$quest_done_prefix$Да, давай. Спасибо!'\n        event: event_golem_paid_money\n\n      option_no:\n        text:\n          ru: '$quest_no_prefix$Мне некогда'\n        pointers: message_start\n\n      option_ok:\n        text:\n          ru: 'Хорошо'\n        pointers: message_start\n\n      option_bye:\n        text:\n          ru: '{oak_door}До встречи'\n\nevents:\n  event_el_start: folder event_el_s2,event_el_s3,event_el_s4\n  event_el_s2: journal add j_el_started\n  event_el_s3: tag add tag_el_started\n  event_el_s4: notify &2Вы начали квест &a$el_name$ category:start_quest\n\n  event_el_done: folder event_el_d1,event_el_d2,event_el_d3,event_el_d4,event_el_d5\n  event_el_d1: journal delete j_el_started\n  event_el_d2: journal add j_el_done\n  event_el_d3: tag add tag_el_done\n  event_el_d4: money -50 notify\n  event_el_d5: give el_item notify\n\n  event_el_paid: folder event_el_p1,event_el_p2,event_el_p3,event_el_p5,event_el_p6\n  event_el_p1: journal delete j_el_done\n  event_el_p2: tag add tag_el_paid\n  event_el_p3: run ^command mmocore admin exp give %player% main $el_exp$ ^notify &eВы получили &6$el_exp$ &eопыта category:reward\n  event_el_p5: notify &2Вы закончили квест &a$el_name$ category:end_quest\n  event_el_p6: take el_item notify\n\n  event_golem_start: folder event_golem_s2,event_golem_s3,event_golem_s4,event_golem_s5,event_golem_s6\n  event_golem_s2: journal add j_golem_started\n  event_golem_s3: tag add tag_golem_started\n  event_golem_s4: notify &2Вы начали квест &a$golem_name$ category:start_quest\n  event_golem_s5: objective start obj_golem\n  event_golem_s6: compass add cave_golem\n\n  event_golem_done: folder event_golem_d1,event_golem_d2,event_golem_d3\n  event_golem_d1: journal delete j_golem_started\n  event_golem_d2: journal add j_golem_done\n  event_golem_d3: tag add tag_golem_done\n\n  event_golem_paid: folder event_golem_p1,event_golem_p2,event_golem_p5,event_golem_p6\n  event_golem_p1: journal delete j_golem_done\n  event_golem_p2: tag add tag_golem_paid\n  event_golem_p5: notify &2Вы закончили квест &a$golem_name$ category:end_quest\n  event_golem_p6: compass del cave_golem\n\n  event_golem_paid_money: folder event_golem_paid,event_golem_pm\n  event_golem_pm: money $golem_money$ notify\n\n  event_golem_paid_exp: folder event_golem_paid,event_golem_pexp\n  event_golem_pexp: run ^command mmocore admin exp give %player% main $golem_exp$ ^notify &eВы получили &6$golem_exp$ &eопыта category:reward\n\njournal:\n  j_el_started:\n    ru: 'Грегори обещал продолжить свой рассказ если я принесу ему бутылочку эля.'\n  j_el_done:\n    ru: 'Я раздобыл эль, я могу отнести его Грегори.'\n\n  j_golem_started:\n    ru: 'Грегори указал на пещеру, мне надо убить там пещерного голема.'\n  j_golem_done:\n    ru: 'Я убил пещерного голема, я могу рассказать об этом Грегори.'\n\nmain:\n  variables:\n    quest_prefix: '{book}&a[Квест]&e '\n    quest_done_prefix: '{enchanted_book}&2[Завершение квеста]&e '\n    quest_yes_prefix: '{book}&a[Принять]&e '\n    quest_no_prefix: '{barrier}&c[Отмена]&e '\n    quest_exit: '{oak_door}&7[Выход]&e '\n    gui_smith: '{anvil}&7[Ковка]&e '\n\n  npcs:\n    '70': gregory\n\n  compass:\n    cave_golem:\n      name:\n        ru: 'Пещерный голем'\n      location: -932;77;-510;world_rpg\n      item: compass_button\n\nobjectives:\n  obj_golem: mmobkill cave_golem amount:1 notify events:event_golem_done\n\ncustom:\n  notifications:\n    start_quest:\n      io: advancement\n      frame: task\n      icon: book\n      sound: entity.experience_orb.pickup\n    get_item:\n      frame: task\n      io: advancement\n      sound: entity.experience_orb.pickup\n    task_done:\n      frame: task\n      io: advancement\n      sound: entity.experience_orb.pickup\n    reward:\n      io: chat\n    chat:\n      io: chat\n\n  npc_holograms:\n    check_interval: 100\n    quest_avalible_gregory:\n      lines:\n        - 'item:default.quest_avalible'\n      vector: '0;3.2;0'\n      npcs:\n        - 70\n      conditions: 'cond_quest_avalible_gregory,!cond_quest_progress_gregory,!cond_quest_done_gregory'\n    quest_progress_gregory:\n      lines:\n        - 'item:default.quest_progress'\n      vector: '0;3.2;0'\n      npcs:\n        - 70\n      conditions: 'cond_quest_progress_gregory,!cond_quest_done_gregory'\n    quest_done_gregory:\n      lines:\n        - 'item:default.quest_done'\n      vector: '0;3.2;0'\n      npcs:\n        - 70\n      conditions: 'cond_quest_done_gregory'\n\nconditions:\n  cond_quest_avalible_gregory: or cond_gregory_el_icon1,cond_gregory_golem_icon1\n  cond_quest_progress_gregory: or cond_gregory_el_icon2,cond_gregory_golem_icon2\n  cond_quest_done_gregory: or cond_gregory_el_icon3,cond_gregory_golem_icon3\n\n  cond_gregory_el_icon1: and !cond_el_started\n  cond_gregory_el_icon2: and cond_el_started,!cond_el_done\n  cond_gregory_el_icon3: and cond_el_done,!cond_el_paid\n\n  cond_gregory_golem_icon1: and !cond_golem_started,cond_el_paid\n  cond_gregory_golem_icon2: and cond_golem_started,!cond_golem_done\n  cond_gregory_golem_icon3: and cond_golem_done,!cond_golem_paid\n\n  cond_el_started: tag tag_el_started\n  cond_el_done: tag tag_el_done\n  cond_el_paid: tag tag_el_paid\n\n  cond_golem_started: tag tag_golem_started\n  cond_golem_done: tag tag_golem_done\n  cond_golem_paid: tag tag_golem_paid\n  cond_50_coins: money 50\n\nitems:\n");this.projectData[this.newTabName].conversations=e.conversations,this.projectData[this.newTabName].conditions=e.conditions,this.projectData[this.newTabName].custom=e.custom,this.projectData[this.newTabName].events=e.events,this.projectData[this.newTabName].items=e.items,this.projectData[this.newTabName].journal=e.journal,this.projectData[this.newTabName].main=e.main,this.projectData[this.newTabName].objectives=e.objectives}if(this.inclideDialogExample=!1,this.inclideMenuExample){const e=t.load("example:\n  height: 3\n  title: '&6&lQuests'\n  bind: menu_quests_open\n  command: '/quests'\n  open_conditions: 'menu_quests_open_permission'\n  items:\n    quest1_active:\n      item: menu_quests_1\n      amount: 1\n      conditions: '!menu_quests_1_tag_completed'\n      text:\n        en:\n          - '&7[Quest] &f&lBone ripper'\n          - '&f&oRipp some skeletons off'\n          - '&f&otheir bones to complete'\n          - '&f&othis quest.'\n          - '&f&o'\n          - '&eLeft click to locate npc'\n          - '&eRight click to cancel quest'\n        de:\n          - '&7[Quest] &f&lKnochenbrecher'\n          - '&f&oBrech den Skeletten alle'\n          - '&f&oKnochen um diese Quest'\n          - '&f&oabzuschließen'\n          - '&f&o'\n          - '&eLinksclick um den NPC zu finden'\n          - '&eRechstclick um die Quest abzubrechen'\n      click:\n        right: menu_quests_1_cancel,menu_quests_1_cancel_msg\n        left: menu_quests_1_compass,menu_quests_1_location_msg\n      close: true\n    quest1_completed:\n      item: menu_quests_1_completed\n      amount: 1\n      conditions: menu_quests_1_tag_completed\n      text:\n        en:\n          - '&2[Quest] &f&lBone ripper'\n          - '&f&oRipp some skeletons off'\n          - '&f&otheir bones to complete'\n          - '&f&othis quest.'\n          - '&f&o'\n          - '&2Quest completed!'\n        de:\n          - '&2[Quest] &f&lKnochenbrecher'\n          - '&f&oBrech den Skeletten alle'\n          - '&f&oKnochen um diese Quest'\n          - '&f&oabzuschließen'\n          - '&f&o'\n          - '&2Quest abgeschlossen!'\n      close: false\n    quest2_active:\n      item: menu_quests_2\n      amount: 1\n      conditions: '!menu_quests_2_tag_completed'\n      text:\n        en:\n          - '&7[Quest] &7&lSorcerer''s apprentice'\n          - '&d&oCollect some ingredients'\n          - '&d&ofor the sorcerer to'\n          - '&d&ocomplete this quest.'\n          - '&d&o'\n          - '&eLeft click to locate npc'\n          - '&eRight click to cancel quest'\n        de:\n          - '&7[Quest] &7&lZauberlehrling'\n          - '&d&oSammel für den Zauberer'\n          - '&d&oeinige Trankzutaten um '\n          - '&d&odiese Quest abzuschließen.'\n          - '&d&o'\n          - '&eLinksclick um den NPC zu finden'\n          - '&eRechstclick um die Quest abzubrechen'\n      click:\n        right: menu_quests_2_cancel,menu_quests_2_cancel_msg\n        left: menu_quests_2_compass,menu_quests_2_location_msg\n      close: true\n    quest2_completed:\n      item: menu_quests_2_completed\n      amount: 1\n      conditions: menu_quests_2_tag_completed\n      text:\n        en:\n          - '&2[Quest] &7&lSorcerer''s apprentice'\n          - '&d&oCollect some ingredients'\n          - '&d&ofor the sorcerer to'\n          - '&d&ocomplete this quest.'\n          - '&d&o'\n          - '&2Quest completed!'\n        de:\n          - '&2[Quest] &7&lZauberlehrling'\n          - '&d&oSammel für den Zauberer'\n          - '&d&oeinige Trankzutaten um '\n          - '&d&odiese Quest abzuschließen.'\n          - '&d&o'\n          - '&2Quest abgeschlossen!'\n      close: false\n    quest3_active:\n      item: menu_quests_3\n      amount: 1\n      conditions: '!menu_quests_3_tag_completed'\n      text:\n        en:\n          - '&7[Quest] &6&lThe lost amulet'\n          - '&4&oFind the lost amulet of'\n          - '&4&oSonequa to complete '\n          - '&4&othis quest.'\n          - '&4&o'\n          - '&eLeft click to locate npc'\n          - '&eRight click to cancel quest'\n        de:\n          - '&7[Quest] &6&lDas verlorene Amulet'\n          - '&4&oFinde das verlorene Amulet'\n          - '&4&ovon Sonequa um diese'\n          - '&4&oQuest abzuschließen.'\n          - '&4&o'\n          - '&eLinksclick um den NPC zu finden'\n          - '&eRechstclick um die Quest abzubrechen'\n      click:\n        right: menu_quests_3_cancel,menu_quests_3_cancel_msg\n        left: menu_quests_3_compass,menu_quests_3_location_msg\n      close: true\n    quest3_completed:\n      item: menu_quests_3_completed\n      amount: 1\n      conditions: menu_quests_3_tag_completed\n      text:\n        en:\n          - '&2[Quest] &6&lThe lost amulet'\n          - '&4&oFind the lost amulet of'\n          - '&4&oSonequa to complete '\n          - '&4&othis quest.'\n          - '&4&o'\n          - '&2Quest completed!'\n        de:\n          - '&2[Quest] &6&lDas verlorene Amulet'\n          - '&4&oFinde das verlorene Amulet'\n          - '&4&ovon Sonequa um diese'\n          - '&4&oQuest abzuschließen.'\n          - '&4&o'\n          - '&2Quest abgeschlossen!'\n      close: false\n    reputation:\n      item: menu_quests_reputation\n      amount: 1\n      text:\n        en:\n          - '&2Quest reputation: &6&l%point.quest_reputation.amount%'\n        de:\n          - '&2Quest Ansehen: &6&l%point.quest_reputation.amount%'\n      click: menu_quests_reputation_msg\n      close: true\n  slots:\n    8: reputation\n    11: 'quest1_active,quest1_completed'\n    13: 'quest2_active,quest2_completed'\n    15: 'quest3_active,quest3_completed'\n");this.projectData[this.newTabName].menus=e}this.inclideMenuExample=!1,this.$message({dangerouslyUseHTMLString:!0,message:`Section <b>${this.newTabName}</b> created!`,type:"success"}),this.sectionSelected=this.newTabName,this.newTabName=null,this.dialogAddSectionVisible=!1,this.newTabNameError=null}else this.newTabNameError=this.$t("exists-regex")},openNewTabDialog(){this.newTabName="",this.dialogAddSectionVisible=!0},removeTab(e){this.$confirm(this.$t("delete-section").replace("{tab}",e),this.$t("confirm"),{confirmButtonText:this.$t("delete"),cancelButtonText:this.$t("cancel"),type:"warning"}).then((()=>{delete this.projectData[e],this.$message({type:"success",message:`Tab ${e} deleted`})}))},openArchive(){this.$refs.arciveFileInput.click()},async onFileArchivePicked(e){const t=e.target.files;this.projectData={},await w(t[0],this.projectData)},openJson(){this.$refs.jsonFileInput.click()},async onFileJsonPicked(e){const t=e.target.files;this.projectData={},self=this;var a=new FileReader;a.onload=function(){self.projectData=JSON.parse(a.result)},a.readAsText(t[0])},saveAsJson(){if(0===Object.keys(this.projectData).length)return void this.$message({dangerouslyUseHTMLString:!0,message:this.$t("data-is-empty"),type:"info"});const e=JSON.stringify(this.projectData),t=new Blob([e],{type:"text/plain"});JSON.stringify(new Date),this.downloadBlob(t,`bq${a().format("DD.MM.YYYY_HH:MM")}.json`)},saveAsZip(){0!==Object.keys(this.projectData).length?function(o){var s=new e;const l={lineWidth:-1};for(const[e,a]of Object.entries(o)){a.events&&s.file(`${e}/events.yml`,t.dump(a.events,l)),a.conditions&&s.file(`${e}/conditions.yml`,t.dump(a.conditions,l)),a.objectives&&s.file(`${e}/objectives.yml`,t.dump(a.objectives,l)),a.items&&s.file(`${e}/items.yml`,t.dump(a.items,l)),a.main&&s.file(`${e}/main.yml`,t.dump(a.main,l)),a.journal&&s.file(`${e}/journal.yml`,t.dump(a.journal,l)),a.custom&&s.file(`${e}/custom.yml`,t.dump(a.custom,l));for(const n of x)if(a[n])for(const[o,i]of Object.entries(a[n]))s.file(`${e}/${n}/${o}.yml`,t.dump(i,l))}s.generateAsync({type:"blob"}).then((function(e){const t=`bq${a().format("YYYY-MM-DD-HH-MM")}.zip`;n.exports.saveAs(e,t)}),(function(e){console.log(`Error with zip save: ${e}`)}))}(this.projectData):this.$message({dangerouslyUseHTMLString:!0,message:this.$t("data-is-empty"),type:"info"})},downloadBlob(e,t){const a=document.createEvent("MouseEvents"),n=document.createElement("a");n.download=t,n.href=window.URL.createObjectURL(e),n.dataset.downloadurl=["text/json",n.download,n.href].join(":"),a.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(a)},openLocalStorage(e){const t=JSON.parse(localStorage.getItem(`projects_${e}`));t?(this.projectData=t,this.$message({dangerouslyUseHTMLString:!0,message:`Project loaded from <b>${e}</b> slot`,type:"success"})):this.$message({message:`Project slot ${e} emty`,type:"info"})},saveLocalStorage(e){0!==Object.keys(this.projectData).length?(localStorage.setItem(`projects_${e}`,JSON.stringify(this.projectData)),localStorage.setItem(`projects_${e}_date`,a().format("DD.MM.YYYY HH:MM")),this.$message({dangerouslyUseHTMLString:!0,message:`Project saved to <b>${e}</b> slot`,type:"success"})):this.$message({dangerouslyUseHTMLString:!0,message:this.$t("data-is-empty"),type:"info"})},lastTimeUsedSlot(e){const t=localStorage.getItem(`projects_${e}_date`);if(t)return` (${t})`}}},_t={class:"el-container is-vertical"},gt={class:"el-header header-section"},ft=u("i",{class:"el-icon-arrow-down el-icon--right"},null,-1),ht=u("i",{class:"el-icon-arrow-down el-icon--right"},null,-1),vt={class:"right-header"},qt={class:"el-dropdown-link"},yt={class:"dialog-subsection"},bt=u("br",null,null,-1),Nt=u("br",null,null,-1),$t=u("br",null,null,-1),Vt=u("br",null,null,-1),wt={class:"dialog-footer"},xt={class:"dialog-footer"},Dt=u("div",{class:"to-top"},"UP",-1);pt.render=function(e,t,a,n,o,_){const g=s("el-button"),f=s("el-dropdown-item"),v=s("el-dropdown-menu"),y=s("el-dropdown"),b=s("el-link"),N=s("el-alert"),$=s("el-input"),V=s("el-checkbox"),w=s("el-dialog"),x=s("subSection"),D=s("el-tab-pane"),j=s("el-tabs"),k=s("el-backtop");return l(),i(p,null,[u("section",_t,[u("input",{type:"file",style:{display:"none"},ref:"arciveFileInput",accept:".zip,",onChange:t[1]||(t[1]=(...e)=>_.onFileArchivePicked&&_.onFileArchivePicked(...e))},null,544),u("input",{type:"file",style:{display:"none"},ref:"jsonFileInput",accept:".json,",onChange:t[2]||(t[2]=(...e)=>_.onFileJsonPicked&&_.onFileJsonPicked(...e))},null,544),u("header",gt,[u(y,{size:"small"},{dropdown:m((()=>[u(v,null,{default:m((()=>[u(f,{onClick:_.openArchive},{default:m((()=>[c(r(e.$t("open-zip"))+" (ctrl-o)",1)])),_:1},8,["onClick"]),u(f,{onClick:_.openJson},{default:m((()=>[c(r(e.$t("open-json")),1)])),_:1},8,["onClick"]),u(f,{onClick:t[3]||(t[3]=e=>_.openLocalStorage(0)),divided:""},{default:m((()=>[c(r(e.$t("open-slot"))+" (ctrl-l)"+r(_.lastTimeUsedSlot(0)),1)])),_:1}),(l(),i(p,null,d(5,(t=>u(f,{onClick:e=>_.openLocalStorage(t),key:t},{default:m((()=>[c(r(e.$t("open-slot"))+" "+r(t)+r(_.lastTimeUsedSlot(t)),1)])),_:2},1032,["onClick"]))),64))])),_:1})])),default:m((()=>[u(g,{size:"mini",class:"header-buttons",icon:"el-icon-folder-opened"},{default:m((()=>[c(r(e.$t("open")),1),ft])),_:1})])),_:1}),u(y,{size:"small"},{dropdown:m((()=>[u(v,null,{default:m((()=>[u(f,{onClick:_.saveAsZip},{default:m((()=>[c(r(e.$t("save-zip"))+" (ctrl-e)",1)])),_:1},8,["onClick"]),u(f,{onClick:_.saveAsJson},{default:m((()=>[c(r(e.$t("save-json")),1)])),_:1},8,["onClick"]),u(f,{onClick:t[4]||(t[4]=e=>_.saveLocalStorage(0)),divided:""},{default:m((()=>[c(r(e.$t("save-slot"))+" (ctrl-s)"+r(_.lastTimeUsedSlot(0)),1)])),_:1}),(l(),i(p,null,d(5,(t=>u(f,{onClick:e=>_.saveLocalStorage(t),key:t},{default:m((()=>[c(r(e.$t("save-slot"))+" "+r(t)+r(_.lastTimeUsedSlot(t)),1)])),_:2},1032,["onClick"]))),64))])),_:1})])),default:m((()=>[u(g,{size:"mini",class:"header-buttons",icon:"el-icon-takeaway-box"},{default:m((()=>[c(r(e.$t("save")),1),ht])),_:1})])),_:1}),u(g,{size:"mini",onClick:_.openNewTabDialog,class:"header-buttons",icon:"el-icon-folder-add"},{default:m((()=>[c(r(e.$t("new-section")),1)])),_:1},8,["onClick"]),u(b,{type:"primary",target:"_blank",rel:"noopener noreferrer",href:"https://docs.betonquest.org/",class:"header-buttons"},{default:m((()=>[c(r(e.$t("bq-doc")),1)])),_:1}),u(b,{type:"primary",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/BetonQuest/RPGMenu/wiki/",class:"header-buttons"},{default:m((()=>[c(r(e.$t("rpgmenu-doc")),1)])),_:1}),u(b,{type:"primary",target:"_blank",rel:"noopener noreferrer",href:"https://mcmodels.net/how-to-tutorials/betonquest-tutorials/",class:"header-buttons"},{default:m((()=>[c(r(e.$t("bq-mcmodels-tutorials")),1)])),_:1}),u("div",vt,[u(y,null,{dropdown:m((()=>[u(v,null,{default:m((()=>[(l(!0),i(p,null,d(o.avaliableLanguages,((e,t)=>(l(),i(f,{class:"lang-option",onClick:e=>_.changeLang(t)},{default:m((()=>[(l(),i(q(e),{class:"lang-icon"}))])),_:2},1032,["onClick"])))),256))])),_:1})])),default:m((()=>[u("span",qt,[(l(),i(q(o.avaliableLanguages[_.settings.language]),{class:"lang-icon"}))])])),_:1})])]),u(w,{title:e.$t("create-section"),modelValue:o.dialogAddSectionVisible,"onUpdate:modelValue":t[9]||(t[9]=e=>o.dialogAddSectionVisible=e),width:"30%","custom-class":"dialog create-section"},{footer:m((()=>[u("span",wt,[u(g,{onClick:t[8]||(t[8]=e=>o.dialogAddSectionVisible=!1)},{default:m((()=>[c(r(e.$t("cancel")),1)])),_:1}),u(g,{type:"primary",onClick:_.addTab},{default:m((()=>[c(r(e.$t("create")),1)])),_:1},8,["onClick"])])])),default:m((()=>[o.newTabNameError?(l(),i(N,{key:0,title:o.newTabNameError,type:"error"},null,8,["title"])):h("",!0),u("div",yt,[u("span",null,r(e.$t("quest-name")),1),u($,{modelValue:o.newTabName,"onUpdate:modelValue":t[5]||(t[5]=e=>o.newTabName=e)},null,8,["modelValue"]),bt,Nt]),u(V,{modelValue:o.inclideDialogExample,"onUpdate:modelValue":t[6]||(t[6]=e=>o.inclideDialogExample=e)},{default:m((()=>[c(r(e.$t("quest-example")),1)])),_:1},8,["modelValue"]),$t,u(V,{modelValue:o.inclideMenuExample,"onUpdate:modelValue":t[7]||(t[7]=e=>o.inclideMenuExample=e)},{default:m((()=>[c(r(e.$t("menu-example")),1)])),_:1},8,["modelValue"]),Vt])),_:1},8,["title","modelValue"]),u(w,{title:e.$t("settings"),modelValue:o.openSettingsVisible,"onUpdate:modelValue":t[10]||(t[10]=e=>o.openSettingsVisible=e),width:"30%","custom-class":"dialog setting-dialog"},{footer:m((()=>[u("span",xt,[u(g,{type:"primary",onClick:_.closeAndSaveSettings},{default:m((()=>[c(r(e.$t("save")),1)])),_:1},8,["onClick"])])])),default:m((()=>[c(r(e.$t("language"))+": ",1)])),_:1},8,["title","modelValue"]),u(j,{class:"sections-tabs",modelValue:o.sectionSelected,"onUpdate:modelValue":t[11]||(t[11]=e=>o.sectionSelected=e),type:"border-card",closable:"",onTabRemove:_.removeTab},{default:m((()=>[(l(!0),i(p,null,d(o.projectData,((e,t)=>(l(),i(D,{key:t,label:t,name:t,class:"section-tab"},{default:m((()=>[u(x,{modelValue:o.projectData[t],"onUpdate:modelValue":e=>o.projectData[t]=e,"project-data":o.projectData,"sub-section-name":t},null,8,["modelValue","onUpdate:modelValue","project-data","sub-section-name"])])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue","onTabRemove"])]),u(k,{target:".el-header",bottom:50},{default:m((()=>[Dt])),_:1})],64)};const jt=b({locale:"ru",messages:{en:t.load("open: Open\nopen-zip: Open Project zip\nopen-json: Open Project json\nopen-slot: Open Project from local slot\nsave-json: Export as json\nsave: Save\nsave-slot: Save Project to local slot\nnew-section: New section\nsettings: Settings\nbq-doc: BetonQuest documentation\nrpgmenu-doc: RPGMenu documentation\nquest-name: Provide quest section name\nquest-example: Include dialog example\nmenu-example: Include menu example\ncancel: Cancel\ncreate: Create\nlanguage: Language\nerror-title-name-empty: Section title cannot be empty\ncreate-section: Create section\nadd-dialog-section: Add dialog section\ndialogs: Dialogs\nadd-menu: Add menu\nmenus: Menu\nevents: Events\nconditions: Conditions\nobjectives: Objectives\nitems: Items\nmain: Main\njournal: Journal\ncustom: Custom\ncreate-subsection: Create section\ndialog-section-name: Enter section name\nprovide-name: Provide name\nempty-title: Title cannot be empty\ndelete-section: Delete section {tab}?\nconfirm: Confirm\ndelete: Delete\ntab-deleted: Tab <b>{tab}</b> deleted\ndialog-exists: Dialog {newName} already exisis\ndialog-section-created: Dialog section <b>{newName}</b> created\nmenu-section-exists: Menu {newName} already exisis\nmenu-section-created: Menu section <b>{newName}</b> created\nyaml-editor: Yaml editor\nadd-dialog: Add dialog option\nsave-and-return: Save and return visual editor\nenter-dialog-name: Provide dialog name\ndialog-window-title: New dialog\nexists-regex: Already exists or bad name (use only a-z 0-9 and _)\ndialog-created: Dialog <b>{value}</b> created\ndialog-renamed: Dialog renamed from <b>{old}</b> to <b>{new}</b>\ndialog-deleted: Dialog <b>{dialogKey}</b> deleted\nNPC_options: NPC options\nplayer_options: Player options\nno-options: No options found\nno-results: No results found\ndelete-section-key: Delete {name} from {from}?\ndelete-key: Delete {key}?\nnew-setting: New setting\nquester-name: Quester name\nnew-setting-key: Enter new setting key\nsave-zip: Export as zip\ndata-is-empty: Data is empty\ntemplate-create: Create with template\ntemplate-dialog: Creation with template\ntemplate-objective: Objective template\ndelete-dialog-section: Delete dialog section\ndialog-section-deleted: Dialog section <b>{section}</b> deleted\ndiagram-editor: Diagram editor\n\ntemplate-quest-name: Quest name for system\ntemplate-quest-readable-name: Readable quest name\ntemplate-quest-NPC-option-1: Quest text\ntemplate-quest-NPC-option-2: Text after player confirm\ntemplate-quest-NPC-option-3: NPC thanks\ntemplate-quest-player-option-1: Player message\ntemplate-quest-player-option-2: Agreement from player\ntemplate-quest-player-option-3: Message about quest complete\ntemplate-quest-journal-start: Journal note about quest start\ntemplate-quest-journal-done: Journal note about quest end\ntemplate-quest-exp-reward: Exp reward\ntemplate-quest-money-reward: Money reward\ntemplate-quest-level: Required level\ntemplate-quest-select: Quester\npreview: Preview\nreturn-to-edit: Return to editor\napply: Apply\nmmobkill: Mythic mob kill\nmmomob-name: Mythicmob name\namount: amount\nno-quester: Quester not selected\ntemplate-applyed: Template applyed\ntemplate-quest-compass-name: Compass name\ntemplate-quest-compass-location: Compass location\n\nenter-new-name: Enter new name\nrename: Rename\npointers: Conversation pointers\ndelete-language: Delete text of language {language}?\nadd-language: Add language\nadd: Add\nfirst-option: First dialog\nselect-option: Select option\nstop-option: Lock player in dialog\nbq-mcmodels-tutorials: BetonQuest Tutorials on mcmodels.net\n\ntemplate-bring-item: Quest bring item\ntemplate-quest-item-setting: Item setting\ntemplate-quest-item-objective: Item recieve objective\n\ndialog-quester-npc-id: Enter id of npc (optional)\n\ntemplate-move-to: Move from npc to npc\ntemplate-quest-select-from: Quest giver NPC\ntemplate-quest-select-to: Quest target NPC\ntemplate-add-to-first-message: Add dialog option to first message?\ntemplate-add-to-hologram-conditions: Add to hologram conditions?\n\nadd-configs-hologram-and-conditions-for-npc: Add configs for holograms and conditions?\nid-only-numbers: ID can contain onlt digits\n\nuse-dark-theme: Use dark theme\n"),ru:t.load("open: Открыть\nopen-zip: Открыть zip\nopen-json: Открыть json\nopen-slot: Открыть сохранённый слот\nsave-json: Экспорт в json\nsave: Сохранить\nsave-slot: Сохранить в слот\nnew-section: Новый раздел\nsettings: Настройки\nbq-doc: Документация BetonQuest\nrpgmenu-doc: Документация RPGMenu\nquest-name: Введите название раздела квестов\nquest-example: Добавить пример квеста?\nmenu-example: Добавить пример меню?\ncancel: Отмена\ncreate: Создать\nlanguage: Язык\nerror-title-name-empty: Заголовок раздела не может быть пустым\ncreate-section: Создание раздела\nadd-dialog-section: Добавить раздел диалога\ndialogs: Диалоги\nadd-menu: Добавить меню\nmenus: Меню\nevents: События\nobjectives: Задания\nconditions: Условия\nitems: Предметы\nmain: Основное\njournal: Журнал\ncustom: Разное\ncreate-subsection: Создание раздела\ndialog-section-name: Введите название раздела\nprovide-name: Введите название\nempty-title: Заголовок не может быть пустым\ndelete-section: Удалить раздел {tab}?\nconfirm: Подтвердить\ndelete: Удалить\ntab-deleted: Раздел <b>{tab}</b> удалён\ndialog-exists: Диалог {newName} уже существует\ndialog-section-created: Раздел диалогов <b>{newName}</b> создан\nmenu-section-exists: Меню {newName} уже существует\nmenu-section-created: Раздел меню <b>{newName}</b> создан\nyaml-editor: Yaml редактор\nadd-dialog: Добавить вариант диалога\nsave-and-return: Сохранить и вернуться в визуальный редактор\nenter-dialog-name: Введите название диалога\ndialog-window-title: Новый диалог\nexists-regex: Уже существует или ошибка в названии (используйте a-z 0-9 и _)\ndialog-created: Диалог <b>{value}</b> создан\ndialog-renamed: Диалог <b>{old}</b> периименован <b>{new}</b>\ndialog-deleted: Диалог <b>{dialogKey}</b> удалён\nNPC_options: Варианты ответов NPC\nplayer_options: Варианты от игрока\nno-options: Нет вариантов\nno-results: Не найдено вариантов\ndelete-section-key: Удалить {name} из раздела {from}?\ndelete-key: Удалить {key}?\nnew-setting: Добавить запись\nquester-name: Имя квестодателя\nnew-setting-key: Введите название\nsave-zip: Экспорт в zip архив\ndata-is-empty: Нет данных для сохранения\ntemplate-create: Создать по шаблону\ntemplate-dialog: Создание по шаблону\ntemplate-objective: Шаблон простого задания\ndelete-dialog-section: Удаление раздела диалогов\ndialog-section-deleted: Раздел диалогов <b>{section}</b> удалён\ndiagram-editor: Редактор диаграм\n\ntemplate-quest-name: Название квеста для системы\ntemplate-quest-readable-name: Читаемое название квеста\ntemplate-quest-NPC-option-1: Текст просмотра квеста\ntemplate-quest-NPC-option-2: Текст после подтверждения\ntemplate-quest-NPC-option-3: Благодарность от NPC\ntemplate-quest-player-option-1: Вопрос к NPC\ntemplate-quest-player-option-2: Соглашение выполнить квест\ntemplate-quest-player-option-3: Сообщение об выполненном квесте\ntemplate-quest-journal-start: Запись в журнале о задаче квеста\ntemplate-quest-journal-done: Запись в журнале о завешении квеста\ntemplate-quest-exp-reward: Размер опыта за выполнение\ntemplate-quest-money-reward: Монеты за выполнение\ntemplate-quest-level: Необходимый лвл для выполнения\ntemplate-quest-select: NPC\npreview: Предпросмотр\nreturn-to-edit: Вернуться к редактированию\napply: Применить\nmmobkill: Убийство моба\nmmomob-name: Название Mythic-моба\namount: кол-во\nno-quester: Квестодатель не выбран\ntemplate-applyed: Шаблон применён\ntemplate-quest-compass-name: Название компаса\ntemplate-quest-compass-location: Локация компаса\n\nenter-new-name: Введите новое имя\nrename: Переименование\npointers: Ссылки на диалоги\ndelete-language: Удалить текст языка {language}?\nadd-language: Добавить язык\nadd: Добавить\nfirst-option: Стартовый диалог\nselect-option: Выберите вариант\nstop-option: Закрытие диалога только при завершении\nbq-mcmodels-tutorials: Туториалы BetonQuest на mcmodels.net\n\ntemplate-bring-item: Задание принести предмет\ntemplate-quest-item-setting: Настройка предмета\ntemplate-quest-item-objective: Задание получения предмета\n\ndialog-quester-npc-id: Введите id npc квестера (не обязательно)\n\ntemplate-move-to: Переходный квест между npc\ntemplate-quest-select-from: Квестодатель NPC\ntemplate-quest-select-to: NPC, которому сдавать квест\ntemplate-add-to-first-message: Добавить ответы в первый вариант диалога?\ntemplate-add-to-hologram-conditions: Добавить условия в настройки голограм?\n\nadd-configs-hologram-and-conditions-for-npc: Добавить настройки для голограм и условий для них?\nid-only-numbers: ID может состоять только из чисел\n\nuse-dark-theme: Использовать тёмную тему\n")}}),kt=N(pt);kt.use($),kt.use(jt),kt.mount("#app");
